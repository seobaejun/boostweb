<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ë¶€ìŠ¤íŠ¸ì›¹ - AI ìë™í™”</title>
    <meta name="description" content="AI ìë™í™” ì„œë¹„ìŠ¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ í˜ì‹ í•˜ì„¸ìš”. ë¶€ìŠ¤íŠ¸ì›¹ì˜ AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìƒì„±ê¸°ì™€ ê²€ì‚¬ê¸°ë¥¼ í™œìš©í•´ë³´ì„¸ìš”."/>
    <meta property="og:title" content="ë¶€ìŠ¤íŠ¸ì›¹ - AI ìë™í™”"/>
    <meta property="og:description" content="AI ìë™í™” ì„œë¹„ìŠ¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ í˜ì‹ í•˜ì„¸ìš”. ë¶€ìŠ¤íŠ¸ì›¹ì˜ AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìƒì„±ê¸°ì™€ ê²€ì‚¬ê¸°ë¥¼ í™œìš©í•´ë³´ì„¸ìš”."/>
    <meta property="og:image" content="./assets/images/og-images.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:site_name" content="ë¶€ìŠ¤íŠ¸ì›¹"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="ë¶€ìŠ¤íŠ¸ì›¹ - AI ìë™í™”"/>
    <meta name="twitter:description" content="AI ìë™í™” ì„œë¹„ìŠ¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ í˜ì‹ í•˜ì„¸ìš”. ë¶€ìŠ¤íŠ¸ì›¹ì˜ AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìƒì„±ê¸°ì™€ ê²€ì‚¬ê¸°ë¥¼ í™œìš©í•´ë³´ì„¸ìš”."/>
    <meta name="twitter:image" content="./assets/images/og-images.png"/>
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&amp;display=swap"/>
    <link rel="shortcut icon" href="./assets/images/favicon.svg" type="image/svg+xml"/>
    <link rel="stylesheet" href="./assets/css/animate.min.css"/>
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="./assets/css/slick.css"/>
    <link rel="stylesheet" href="./assets/icons/style.css"/>
    <link rel="stylesheet" href="./assets/css/style.css"/>
    <link rel="stylesheet" href="./assets/css/swiper-bundle.min.css"/>
    <style>
      .blog-generator-container {
        padding: 60px 0;
        min-height: 80vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .blog-form-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 40px;
        margin-bottom: 30px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .form-group {
        margin-bottom: 24px;
        flex-shrink: 0;
      }
      .form-group:has(.textarea-control) {
        margin-bottom: 0;
        flex: 1;
        display: flex;
        flex-direction: column;
        min-height: 0;
      }
      .form-label {
        color: #fff;
        font-weight: 600;
        margin-bottom: 8px;
        display: block;
      }
      .form-control {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 8px;
        padding: 12px 16px;
        color: #ffffff !important;
        width: 100%;
        transition: all 0.3s;
        font-size: 16px;
      }
      .form-control:focus {
        background: rgba(255, 255, 255, 0.2);
        border-color: #7D3CF3;
        outline: none;
        box-shadow: 0 0 0 3px rgba(125, 60, 243, 0.2);
        color: #ffffff !important;
      }
      .form-control::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }
      .form-control::-webkit-input-placeholder {
        color: rgba(255, 255, 255, 0.6);
      }
      .form-control::-moz-placeholder {
        color: rgba(255, 255, 255, 0.6);
      }
      .form-control:-ms-input-placeholder {
        color: rgba(255, 255, 255, 0.6);
      }
      .keyword-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 12px;
      }
      .keyword-tag {
        background: rgba(125, 60, 243, 0.2);
        border: 1px solid rgba(125, 60, 243, 0.5);
        border-radius: 20px;
        padding: 8px 16px;
        color: #fff;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
      }
      .keyword-tag:hover {
        background: rgba(125, 60, 243, 0.4);
        border-color: #7D3CF3;
      }
      .keyword-tag.selected {
        background: #7D3CF3;
        border-color: #7D3CF3;
      }
      .btn-primary {
        background: #7D3CF3;
        border: none;
        border-radius: 8px;
        padding: 14px 32px;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
      }
      .btn-primary:hover:not(:disabled) {
        background: #6a2dd4;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(125, 60, 243, 0.4);
      }
      .btn-primary:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      .btn-secondary {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 14px 32px;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
        margin-top: 12px;
      }
      .btn-secondary:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.2);
      }
      .loading-spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
        margin-right: 10px;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      .blog-result {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 40px;
        margin-top: 30px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .blog-content {
        color: #fff;
        line-height: 1.8;
      }
      .blog-content h1 {
        color: #fff;
        font-size: 32px;
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 2px solid rgba(125, 60, 243, 0.3);
      }
      .blog-content h2 {
        color: #fff;
        font-size: 24px;
        margin-top: 32px;
        margin-bottom: 16px;
        color: #7D3CF3;
      }
      .blog-content p {
        margin-bottom: 16px;
        color: rgba(255, 255, 255, 0.9);
      }
      .alert {
        padding: 16px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .alert-info {
        background: rgba(59, 130, 246, 0.2);
        border: 1px solid rgba(59, 130, 246, 0.5);
        color: #93c5fd;
      }
      .alert-error {
        background: rgba(239, 68, 68, 0.2);
        border: 1px solid rgba(239, 68, 68, 0.5);
        color: #fca5a5;
      }
      .alert-success {
        background: rgba(34, 197, 94, 0.2);
        border: 1px solid rgba(34, 197, 94, 0.5);
        color: #86efac;
      }
      .menu-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 40px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        height: 100%;
        margin-bottom: 24px;
      }
      .menu-card:hover {
        background: rgba(255, 255, 255, 0.1);
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(125, 60, 243, 0.3);
        border-color: rgba(125, 60, 243, 0.5);
      }
      .menu-card-icon {
        font-size: 48px;
        margin-bottom: 20px;
        color: #7D3CF3;
      }
      .menu-card-title {
        color: #fff;
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 12px;
      }
      .menu-card-description {
        color: rgba(255, 255, 255, 0.7);
        font-size: 16px;
        line-height: 1.6;
      }
      .back-button {
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        padding: 10px 20px;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin-bottom: 20px;
      }
      .back-button:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      /* ê²€ì‚¬ê¸° ìŠ¤íƒ€ì¼ */
      .checker-wrapper {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        padding: 32px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 20px;
      }
      .checker-container {
        display: flex;
        gap: 32px;
        align-items: stretch;
        min-height: 600px;
      }
      .checker-input-section {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
      }
      .checker-result-section {
        flex: 0 0 380px;
        display: flex;
        flex-direction: column;
      }
      .checker-input-card {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
        height: 100%;
      }
      .textarea-control {
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 8px;
        padding: 12px 16px;
        color: #ffffff !important;
        width: 100%;
        flex: 1;
        min-height: 450px;
        resize: none;
        transition: all 0.3s;
        font-size: 16px;
        font-family: inherit;
        line-height: 1.6;
      }
      .textarea-control:focus {
        background: rgba(255, 255, 255, 0.2);
        border-color: #7D3CF3;
        outline: none;
        box-shadow: 0 0 0 3px rgba(125, 60, 243, 0.2);
        color: #ffffff !important;
      }
      .textarea-control::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }
      .checker-result-section h3 {
        margin-bottom: 24px;
        padding-bottom: 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        flex-shrink: 0;
      }
      #checkerResults {
        flex: 1;
        overflow-y: auto;
        min-height: 0;
      }
      .result-item {
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .result-item:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
      }
      .result-label {
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
        font-weight: 500;
        margin-bottom: 8px;
        display: block;
      }
      .result-value {
        color: #fff;
        font-size: 20px;
        font-weight: 700;
      }
      .result-detail {
        color: rgba(255, 255, 255, 0.8);
        font-size: 14px;
        margin-top: 8px;
        line-height: 1.5;
      }
      .result-status {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 600;
        margin-top: 8px;
      }
      .result-status.success {
        background: rgba(34, 197, 94, 0.2);
        color: #86efac;
        border: 1px solid rgba(34, 197, 94, 0.5);
      }
      .result-status.warning {
        background: rgba(251, 191, 36, 0.2);
        color: #fde047;
        border: 1px solid rgba(251, 191, 36, 0.5);
      }
      .result-status.error {
        background: rgba(239, 68, 68, 0.2);
        color: #fca5a5;
        border: 1px solid rgba(239, 68, 68, 0.5);
      }
      .result-list {
        margin-top: 8px;
        max-height: 200px;
        overflow-y: auto;
      }
      .result-list-item {
        padding: 6px 12px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 6px;
        margin-bottom: 6px;
        font-size: 13px;
        color: rgba(255, 255, 255, 0.9);
      }
      @media (max-width: 992px) {
        .checker-wrapper {
          padding: 24px;
        }
        .checker-container {
          flex-direction: column;
          gap: 24px;
        }
        .checker-result-section {
          flex: 1;
          width: 100%;
        }
        .textarea-control {
          min-height: 400px;
        }
      }
      @media (max-width: 768px) {
        .menu-card {
          margin-bottom: 32px;
        }
        #mainMenu .row > [class*="col-"] {
          padding-left: 12px;
          padding-right: 12px;
          margin-bottom: 32px;
        }
        #mainMenu .row {
          margin-left: -12px;
          margin-right: -12px;
        }
      }
    </style>
  </head>
  <body> 
    <div id="header">
    </div>
    <div id="content">
      <div class="blog-generator-container">
        <div class="container">
          <div class="row">
            <div class="col-lg-10 offset-lg-1">
              <!-- ë©”ì¸ ë©”ë‰´ -->
              <div id="mainMenu" style="width: 100%;">
                <h1 class="text-white text-center mb-60" style="font-size: 36px; font-weight: 700; margin-bottom: 60px;">
                  AIë¸”ë¡œê·¸
                </h1>
                
                <div class="row" style="row-gap: 24px; column-gap: 0;">
                  <div class="col-lg-4 col-md-6 col-12">
                    <div class="menu-card" onclick="showGenerator()">
                      <div class="menu-card-icon">ğŸ“</div>
                      <div class="menu-card-title">AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìƒì„±ê¸°</div>
                      <div class="menu-card-description">
                        ì£¼ì œì™€ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´ AIê°€ ìë™ìœ¼ë¡œ ê³ í’ˆì§ˆ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…ì„ ìƒì„±í•´ë“œë¦½ë‹ˆë‹¤.
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4 col-md-6 col-12">
                    <div class="menu-card" onclick="showChecker()">
                      <div class="menu-card-icon">ğŸ”</div>
                      <div class="menu-card-title">AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ê²€ì‚¬ê¸°</div>
                      <div class="menu-card-description">
                        ì‘ì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…ì˜ í’ˆì§ˆê³¼ SEO ìµœì í™”ë¥¼ ê²€ì‚¬í•˜ê³  ê°œì„  ì‚¬í•­ì„ ì œì•ˆí•©ë‹ˆë‹¤.
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4 col-md-6 col-12">
                    <div class="menu-card" onclick="showNeighborManager()">
                      <div class="menu-card-icon">ğŸ‘¥</div>
                      <div class="menu-card-title">ë¸”ë¡œê·¸ ì´ì›ƒê´€ë¦¬ ìë™í™”</div>
                      <div class="menu-card-description">
                        ë¸”ë¡œê·¸ ì´ì›ƒ ê´€ë¦¬ì™€ ìƒí˜¸ì‘ìš©ì„ ìë™í™”í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="text-center mt-40">
                  <button 
                    type="button" 
                    class="back-button" 
                    onclick="goToMainPage()"
                    style="padding: 14px 32px; font-size: 16px;"
                  >
                    ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                  </button>
                </div>
              </div>
              
              <!-- ìƒì„±ê¸° í™”ë©´ -->
              <div id="generatorSection" style="display: none;">
                <button class="back-button" onclick="showMainMenu()">
                  â† ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°
                </button>
                <h2 class="text-white text-center mb-40" style="font-size: 28px; font-weight: 700; margin-bottom: 40px;">
                  AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ìƒì„±ê¸°
                </h2>
                
                <div class="blog-form-card" style="margin-top: 20px;">
                <form id="blogForm">
                  <div class="form-group">
                    <label class="form-label" for="topic">ì£¼ì œ</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      id="topic" 
                      name="topic" 
                      placeholder="ì˜ˆ: ì›¹ ê°œë°œ, ë§ˆì¼€íŒ…, ë””ìì¸ ë“±"
                      required
                    />
                  </div>
                  
                  <div class="form-group">
                    <label class="form-label" for="mainKeyword">ë©”ì¸í‚¤ì›Œë“œ</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      id="mainKeyword" 
                      name="mainKeyword" 
                      placeholder="ì˜ˆ: React, SEO, UI/UX ë“±"
                      required
                    />
                  </div>
                  
                  <div id="alertContainer"></div>
                  
                  <button 
                    type="button" 
                    class="btn-primary" 
                    id="recommendBtn"
                    onclick="recommendKeywords()"
                  >
                    ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ
                  </button>
                </form>
              </div>
              
              <div id="keywordsSection" class="blog-form-card" style="display: none;">
                <h3 class="text-white mb-24" style="font-size: 20px; font-weight: 600;">
                  ì¶”ì²œ ì„œë¸Œí‚¤ì›Œë“œ
                </h3>
                <div id="keywordTags" class="keyword-tags"></div>
                
                <div class="mt-24" style="margin-top: 24px; padding-top: 24px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                  <h4 class="text-white mb-16" style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                    í‚¤ì›Œë“œ ìˆ˜ë™ ì¶”ê°€
                  </h4>
                  <div style="display: flex; gap: 12px;">
                    <input 
                      type="text" 
                      class="form-control" 
                      id="manualKeyword" 
                      placeholder="í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                      style="flex: 1; margin-bottom: 0;"
                      onkeypress="if(event.key === 'Enter') addManualKeyword()"
                    />
                    <button 
                      type="button" 
                      class="btn-secondary" 
                      onclick="addManualKeyword()"
                      style="width: auto; min-width: 100px; margin-top: 0;"
                    >
                      ì¶”ê°€
                    </button>
                  </div>
                </div>
                
                <div id="selectedKeywordsInfo" class="mt-16" style="margin-top: 16px; padding: 12px; background: rgba(125, 60, 243, 0.1); border-radius: 8px; display: none;">
                  <div class="text-white" style="font-size: 14px;">
                    <strong>ì„ íƒëœ í‚¤ì›Œë“œ:</strong> <span id="selectedKeywordsCount">0</span>ê°œ
                  </div>
                </div>
                
                <button 
                  type="button" 
                  class="btn-primary mt-24" 
                  id="generateBtn"
                  onclick="generateBlog()"
                  disabled
                >
                  ë¸”ë¡œê·¸ ê¸€ ìƒì„±
                </button>
              </div>
              
              <div id="blogResult" class="blog-result" style="display: none;">
                <h3 class="text-white mb-24" style="font-size: 24px; font-weight: 600;">
                  ìƒì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ…
                </h3>
                <div id="blogResultAlertContainer" style="margin-bottom: 20px;"></div>
                
                <!-- HTML í˜•ì‹ ë³´ê¸° -->
                <div id="blogContent" class="blog-content"></div>
                
                <!-- í…ìŠ¤íŠ¸ í˜•ì‹ ë³´ê¸° (ë³µì‚¬ìš©) -->
                <div id="blogTextContainer" style="display: none; margin-top: 20px;">
                  <label class="form-label" style="margin-bottom: 8px;">ë³µì‚¬ìš© í…ìŠ¤íŠ¸:</label>
                  <textarea 
                    id="blogTextContent" 
                    class="form-control" 
                    readonly 
                    style="min-height: 300px; font-family: monospace; font-size: 14px; resize: vertical;"
                  ></textarea>
                </div>
                
                <div class="mt-24" style="display: flex; gap: 12px; flex-wrap: wrap;">
                  <button 
                    type="button" 
                    class="btn-secondary" 
                    onclick="copyTextContent()"
                    style="flex: 1; min-width: 120px;"
                  >
                    í…ìŠ¤íŠ¸ ë³µì‚¬
                  </button>
                  <button 
                    type="button" 
                    class="btn-secondary" 
                    onclick="downloadTextFile()"
                    style="flex: 1; min-width: 120px;"
                  >
                    íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                  </button>
                  <button 
                    type="button" 
                    class="btn-secondary" 
                    onclick="checkBlog()"
                    style="flex: 1; min-width: 120px;"
                  >
                    ê²€ì‚¬í•˜ê¸°
                  </button>
                  <button 
                    type="button" 
                    class="btn-secondary" 
                    onclick="resetForm()"
                    style="flex: 1; min-width: 120px;"
                  >
                    ìƒˆë¡œ ì‘ì„±í•˜ê¸°
                  </button>
                </div>
            </div>
              </div>
              
              <!-- ë¸”ë¡œê·¸ ì´ì›ƒê´€ë¦¬ ìë™í™” í™”ë©´ -->
              <div id="neighborManagerSection" style="display: none;">
                <button class="back-button" onclick="showMainMenu()">
                  â† ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°
                </button>
                <h2 class="text-white text-center mb-40" style="font-size: 28px; font-weight: 700; margin-bottom: 40px;">
                  ë¸”ë¡œê·¸ ì´ì›ƒê´€ë¦¬ ìë™í™”
                </h2>
                
                <div class="blog-form-card" style="margin-top: 20px;">
                  <h3 class="text-white mb-24" style="font-size: 20px; font-weight: 600; margin-bottom: 24px;">
                    í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ
                  </h3>
                  <p class="text-white mb-24" style="color: rgba(255, 255, 255, 0.8); margin-bottom: 24px; line-height: 1.6;">
                    ë¸”ë¡œê·¸ ì´ì›ƒê´€ë¦¬ ìë™í™” í”„ë¡œê·¸ë¨ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                  </p>
                  
                  <div id="neighborManagerAlertContainer" style="margin-bottom: 16px;"></div>
                  
                  <button 
                    type="button" 
                    class="btn-primary" 
                    id="downloadProgramBtn"
                    onclick="downloadNeighborManagerProgram()"
                  >
                    í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ
                  </button>
                </div>
                
                <div class="blog-form-card" style="margin-top: 30px;">
                  <h3 class="text-white mb-24" style="font-size: 20px; font-weight: 600; margin-bottom: 24px;">
                    ì‚¬ìš©ë²•
                  </h3>
                  <div class="text-white" style="color: rgba(255, 255, 255, 0.9); line-height: 1.8;">
                    <ol style="padding-left: 20px; margin: 0;">
                      <li style="margin-bottom: 12px;">ì••ì¶•íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤</li>
                      <li style="margin-bottom: 12px;">ë‹¤ìš´ë°›ì€ í´ë” ì••ì¶•ì„ í•´ì œí•œë‹¤.</li>
                      <li style="margin-bottom: 12px;">EXE íŒŒì¼ì„ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰í•œë‹¤.</li>
                      <li style="margin-bottom: 12px;">íšŒì›ê°€ì… í›„ ê´€ë¦¬ìê°€ ìŠ¹ì¸ í•´ ì¤„ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.</li>
                      <li style="margin-bottom: 12px;">í•˜ë£¨ê°€ ì§€ë‚˜ë„ ìŠ¹ì¸ì´ ì•ˆë ì‹œ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•œë‹¤.</li>
                      <li style="margin-bottom: 12px;">ìŠ¹ì¸ì´ ì™„ë£Œë˜ë©´ ìë™í™” í”„ë¡œê·¸ë¨ì„ ì´ìš©í•œë‹¤.</li>
                    </ol>
                  </div>
                </div>
              </div>
              
              <!-- ê²€ì‚¬ê¸° í™”ë©´ -->
              <div id="checkerSection" style="display: none;">
                <button class="back-button" onclick="showMainMenu()">
                  â† ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°
                </button>
                <h2 class="text-white text-center mb-40" style="font-size: 28px; font-weight: 700; margin-bottom: 40px;">
                  AI ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ê²€ì‚¬ê¸°
                </h2>
                
                <div class="checker-wrapper">
                  <div class="checker-container">
                    <!-- ì™¼ìª½: ì…ë ¥ ì˜ì—­ -->
                    <div class="checker-input-section">
                      <div class="checker-input-card">
                        <div class="form-group">
                          <label class="form-label" for="checkerTitle">ì œëª©</label>
                          <input 
                            type="text" 
                            class="form-control" 
                            id="checkerTitle" 
                            name="checkerTitle" 
                            placeholder="ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"
                          />
                        </div>
                        
                        <div class="form-group">
                          <label class="form-label" for="checkerContent">í¬ìŠ¤íŒ… ë‚´ìš©</label>
                          <textarea 
                            class="textarea-control" 
                            id="checkerContent" 
                            name="checkerContent" 
                            placeholder="ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… ë‚´ìš©ì„ ì…ë ¥í•˜ê±°ë‚˜ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”"
                          ></textarea>
                        </div>
                        
                        <div id="checkerAlertContainer" style="margin-top: 16px;"></div>
                        
                        <button 
                          type="button" 
                          class="btn-primary" 
                          id="checkBtn"
                          onclick="checkPosting()"
                          style="margin-top: 16px;"
                        >
                          ê²€ì‚¬í•˜ê¸°
                        </button>
                      </div>
                    </div>
                    
                    <!-- ì˜¤ë¥¸ìª½: ê²€ì‚¬ ê²°ê³¼ ì˜ì—­ -->
                    <div class="checker-result-section">
                      <h3 class="text-white" style="font-size: 20px; font-weight: 600;">
                        ê²€ì‚¬ ê²°ê³¼
                      </h3>
                      
                      <div id="checkerResults">
                        <div class="result-item">
                          <span class="result-label">ê¸€ììˆ˜</span>
                          <div class="result-value" id="resultCharCount">-</div>
                          <div class="result-detail" id="resultCharDetail">ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ê²€ì‚¬í•˜ê¸°ë¥¼ í´ë¦­í•˜ì„¸ìš”</div>
                        </div>
                        
                        <div class="result-item">
                          <span class="result-label">ë§ì¶¤ë²•</span>
                          <div class="result-value" id="resultSpelling">-</div>
                          <div class="result-detail" id="resultSpellingDetail">-</div>
                          <div id="resultSpellingStatus"></div>
                          <div id="resultSpellingList" class="result-list" style="display: none;"></div>
                        </div>
                        
                        <div class="result-item">
                          <span class="result-label">í˜•íƒœì†Œ</span>
                          <div class="result-value" id="resultMorphology">-</div>
                          <div class="result-detail" id="resultMorphologyDetail">-</div>
                          <div id="resultMorphologyStatus"></div>
                          <div id="resultMorphologyList" class="result-list" style="display: none;"></div>
                        </div>
                        
                        <div class="result-item">
                          <span class="result-label">ê¸ˆì¹™ì–´</span>
                          <div class="result-value" id="resultForbidden">-</div>
                          <div class="result-detail" id="resultForbiddenDetail">-</div>
                          <div id="resultForbiddenStatus"></div>
                          <div id="resultForbiddenList" class="result-list" style="display: none;"></div>
                        </div>
                        
                        <div class="result-item">
                          <span class="result-label">ë°˜ë³µì–´</span>
                          <div class="result-value" id="resultRepetition">-</div>
                          <div class="result-detail" id="resultRepetitionDetail">-</div>
                          <div id="resultRepetitionStatus"></div>
                          <div id="resultRepetitionList" class="result-list" style="display: none;"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer">
    </div>
    <script src="./assets/js/jquery-3.7.0.js"></script>
    <script src="./assets/js/jquery-migrate-3.4.1.js"></script>
    <script src="./assets/js/slick.min.js"></script>
    <script src="./assets/js/scrollreveal.js"></script>
    <script src="./assets/js/swiper-bundle.min.js"></script>
    <script src="./assets/js/bootstrap.bundle.min.js"></script>
    <script src="./assets/js/countUp.min.js"></script>
    <script src="./assets/js/waypoints.min.js"></script>
    <script src="./assets/js/phosphor-icons.js"></script>
    <script src="./assets/js/main.min.js"></script>
    <script>
      // ìƒìˆ˜ ì •ì˜
      // í™˜ê²½ì— ë”°ë¼ API URL ë™ì  ì„¤ì •
      // ë¡œì»¬ ê°œë°œ í™˜ê²½: localhost:3001 ì‚¬ìš©
      // í”„ë¡œë•ì…˜ í™˜ê²½: Vercel Serverless Functions ì‚¬ìš© (/api)
      const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
      const API_BASE_URL = isLocalhost ? 'http://localhost:3001' : '';
      const MIN_CHAR_COUNT = 1500; // ìµœì†Œ ê¸€ììˆ˜ (ê³µë°± ì œì™¸)
      const MAX_CHAR_COUNT = 2000; // ê¶Œì¥ ìµœëŒ€ ê¸€ììˆ˜ (ê³µë°± ì œì™¸)
      const WARNING_CHAR_COUNT = 2500; // ì£¼ì˜ ê¸€ììˆ˜ (ê³µë°± ì œì™¸)
      let selectedKeywords = [];

      // ë©”ë‰´ ì „í™˜ í•¨ìˆ˜ë“¤
      function showMainMenu() {
        document.getElementById('mainMenu').style.display = 'block';
        document.getElementById('generatorSection').style.display = 'none';
        document.getElementById('checkerSection').style.display = 'none';
        document.getElementById('neighborManagerSection').style.display = 'none';
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
      function goToMainPage() {
        window.location.href = 'index.html';
      }

      // ì›ë³¸ í•¨ìˆ˜ë“¤ (ë‚´ë¶€ ë¡œì§)
      function _showGeneratorInternal() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('generatorSection').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      function _showCheckerInternal(scrollToTop = true) {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('checkerSection').style.display = 'block';
        if (scrollToTop) {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          // ê²€ì‚¬ê¸° ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
          setTimeout(() => {
            const checkerSection = document.getElementById('checkerSection');
            if (checkerSection) {
              checkerSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
          }, 100);
        }
      }

      function _showNeighborManagerInternal() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('neighborManagerSection').style.display = 'block';
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      // ê³µê°œ í•¨ìˆ˜ë“¤ (ë¡œê·¸ì¸ ì²´í¬ í¬í•¨) - Firebase ë¡œë“œ í›„ ì¬ì •ì˜ë¨
      function showGenerator() {
        _showGeneratorInternal();
      }

      function showChecker(scrollToTop = true) {
        _showCheckerInternal(scrollToTop);
      }

      function showNeighborManager() {
        _showNeighborManagerInternal();
      }
      
      // ë¸”ë¡œê·¸ ì´ì›ƒê´€ë¦¬ ìë™í™” í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œ
      async function downloadNeighborManagerProgram() {
        // ë¡œê·¸ì¸ ì²´í¬ (Firebaseê°€ ë¡œë“œëœ ê²½ìš°)
        if (typeof auth !== 'undefined' && auth) {
          const user = auth.currentUser;
          if (!user) {
            const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
            alert(message);
            window.location.href = 'login.html';
            return;
          }
        }
        
        const downloadBtn = document.getElementById('downloadProgramBtn');
        const originalText = downloadBtn.innerHTML;
        
        try {
          downloadBtn.disabled = true;
          downloadBtn.innerHTML = '<span class="loading-spinner"></span>ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ ì¤‘...';
          
          // ZIP íŒŒì¼ ê²½ë¡œ
          const zipFilePath = './assets/downloads/blog_neighbor_manager.zip';
          
          try {
            // íŒŒì¼ ë‹¤ìš´ë¡œë“œ
            const response = await fetch(zipFilePath);
            
            if (response.ok) {
              const blob = await response.blob();
              const url = window.URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = 'ë¸”ë¡œê·¸_ì´ì›ƒê´€ë¦¬_ìë™í™”.zip';
              document.body.appendChild(a);
              a.click();
              document.body.removeChild(a);
              window.URL.revokeObjectURL(url);
              
              // ì„±ê³µ ì•Œë¦¼ í‘œì‹œ
              const alertContainer = document.getElementById('neighborManagerAlertContainer');
              if (alertContainer) {
                const alert = document.createElement('div');
                alert.className = 'alert alert-success';
                alert.textContent = 'í”„ë¡œê·¸ë¨ ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.';
                alertContainer.innerHTML = '';
                alertContainer.appendChild(alert);
                setTimeout(() => {
                  alert.remove();
                }, 5000);
              }
            } else {
              throw new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
          } catch (fetchError) {
            console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', fetchError);
            const alertContainer = document.getElementById('neighborManagerAlertContainer');
            if (alertContainer) {
              const alert = document.createElement('div');
              alert.className = 'alert alert-error';
              alert.textContent = 'ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. íŒŒì¼ ê²½ë¡œë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.';
              alertContainer.innerHTML = '';
              alertContainer.appendChild(alert);
            }
          }
        } catch (error) {
          console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
          const alertContainer = document.getElementById('neighborManagerAlertContainer');
          if (alertContainer) {
            const alert = document.createElement('div');
            alert.className = 'alert alert-error';
            alert.textContent = 'ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.';
            alertContainer.innerHTML = '';
            alertContainer.appendChild(alert);
          }
        } finally {
          downloadBtn.disabled = false;
          downloadBtn.innerHTML = originalText;
        }
      }

      // ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ í•¨ìˆ˜
      async function recommendKeywords() {
        // ë¡œê·¸ì¸ ì²´í¬ (Firebaseê°€ ë¡œë“œëœ ê²½ìš°)
        if (typeof auth !== 'undefined' && auth) {
          const user = auth.currentUser;
          if (!user) {
            const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
            alert(message);
            window.location.href = 'login.html';
            return;
          }
        }
        
        const topic = document.getElementById('topic').value.trim();
        const mainKeyword = document.getElementById('mainKeyword').value.trim();
        const alertContainer = document.getElementById('alertContainer');
        const recommendBtn = document.getElementById('recommendBtn');
        const keywordsSection = document.getElementById('keywordsSection');
        const keywordTags = document.getElementById('keywordTags');

        if (!topic || !mainKeyword) {
          showAlert('ì£¼ì œì™€ ë©”ì¸í‚¤ì›Œë“œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }

        // ë¡œë”© ìƒíƒœ
        recommendBtn.disabled = true;
        recommendBtn.innerHTML = '<span class="loading-spinner"></span>ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ ì¤‘...';
        alertContainer.innerHTML = '';

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 30000);
          
          const apiUrl = isLocalhost ? `${API_BASE_URL}/api/recommend-keywords` : '/api/recommend-keywords';
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ topic, mainKeyword }),
            signal: controller.signal
          }).catch(fetchError => {
            clearTimeout(timeoutId);
            console.error('Fetch ì˜¤ë¥˜:', fetchError);
            if (fetchError.name === 'AbortError') {
              throw new Error('ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
            }
            if (isLocalhost) {
              throw new Error('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. API ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”. (http://localhost:3001)');
            } else {
              throw new Error('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
          });
          
          clearTimeout(timeoutId);

          if (!response) {
            throw new Error('ì„œë²„ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          }

          const data = await response.json();

          if (!response.ok) {
            throw new Error(data.error || 'ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          }

          // í‚¤ì›Œë“œ íƒœê·¸ ìƒì„± (ê¸°ì¡´ ì„ íƒëœ í‚¤ì›Œë“œëŠ” ìœ ì§€)
          // ìƒˆë¡œ ì¶”ì²œëœ í‚¤ì›Œë“œë§Œ ì¶”ê°€ (ì¤‘ë³µ ì œê±°)
          if (data.keywords && data.keywords.length > 0) {
            data.keywords.forEach((keyword) => {
              // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒœê·¸ì¸ì§€ í™•ì¸
              const existingTags = Array.from(keywordTags.children);
              const alreadyExists = existingTags.some(tag => tag.textContent.trim() === keyword.trim());
              
              if (!alreadyExists) {
                const tag = document.createElement('div');
                const isSelected = selectedKeywords.includes(keyword);
                tag.className = isSelected ? 'keyword-tag selected' : 'keyword-tag';
                tag.textContent = keyword;
                tag.onclick = () => toggleKeyword(keyword, tag);
                keywordTags.appendChild(tag);
              }
            });
            
            keywordsSection.style.display = 'block';
            updateSelectedKeywordsInfo();
            showAlert('ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì›í•˜ëŠ” í‚¤ì›Œë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', 'success');
          } else {
            throw new Error('ì¶”ì²œëœ í‚¤ì›Œë“œê°€ ì—†ìŠµë‹ˆë‹¤.');
          }
        } catch (error) {
          console.error('ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ ì˜¤ë¥˜:', error);
          let errorMessage = error.message || 'ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
          
          // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¸ ê²½ìš°
          if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.message.includes('ì—°ê²°') || error.message.includes('ì„œë²„ì— ì—°ê²°')) {
            if (isLocalhost) {
              errorMessage = 'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní•´ê²° ë°©ë²•:\n1. í„°ë¯¸ë„ì—ì„œ "npm run server" ëª…ë ¹ì–´ë¡œ API ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.\n2. ì„œë²„ê°€ http://localhost:3001 ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.';
            } else {
              errorMessage = 'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
            }
          }
          
          showAlert(errorMessage, 'error');
        } finally {
          recommendBtn.disabled = false;
          recommendBtn.innerHTML = 'ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ';
        }
      }

      // í‚¤ì›Œë“œ ì„ íƒ í† ê¸€
      function toggleKeyword(keyword, tagElement) {
        const index = selectedKeywords.indexOf(keyword);
        
        if (index > -1) {
          selectedKeywords.splice(index, 1);
          tagElement.classList.remove('selected');
        } else {
          selectedKeywords.push(keyword);
          tagElement.classList.add('selected');
        }
        
        updateSelectedKeywordsInfo();
      }

      // ìˆ˜ë™ í‚¤ì›Œë“œ ì¶”ê°€ í•¨ìˆ˜
      function addManualKeyword() {
        const manualKeywordInput = document.getElementById('manualKeyword');
        const keyword = manualKeywordInput.value.trim();
        const keywordTags = document.getElementById('keywordTags');

        if (!keyword) {
          showAlert('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }

        // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” í‚¤ì›Œë“œì¸ì§€ í™•ì¸
        if (selectedKeywords.includes(keyword)) {
          showAlert('ì´ë¯¸ ì¶”ê°€ëœ í‚¤ì›Œë“œì…ë‹ˆë‹¤.', 'error');
          manualKeywordInput.value = '';
          return;
        }

        // í‚¤ì›Œë“œ íƒœê·¸ ìƒì„± ë° ì¶”ê°€
        const tag = document.createElement('div');
        tag.className = 'keyword-tag selected';
        tag.textContent = keyword;
        tag.onclick = () => toggleKeyword(keyword, tag);
        keywordTags.appendChild(tag);

        // ì„ íƒëœ í‚¤ì›Œë“œ ëª©ë¡ì— ì¶”ê°€
        selectedKeywords.push(keyword);
        
        // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
        manualKeywordInput.value = '';
        
        // ì„ íƒëœ í‚¤ì›Œë“œ ì •ë³´ ì—…ë°ì´íŠ¸
        updateSelectedKeywordsInfo();
      }

      // ì„ íƒëœ í‚¤ì›Œë“œ ì •ë³´ ì—…ë°ì´íŠ¸
      function updateSelectedKeywordsInfo() {
        const selectedKeywordsInfo = document.getElementById('selectedKeywordsInfo');
        const selectedKeywordsCount = document.getElementById('selectedKeywordsCount');
        const generateBtn = document.getElementById('generateBtn');

        if (selectedKeywords.length > 0) {
          selectedKeywordsInfo.style.display = 'block';
          selectedKeywordsCount.textContent = selectedKeywords.length;
          generateBtn.disabled = false;
        } else {
          selectedKeywordsInfo.style.display = 'none';
          generateBtn.disabled = true;
        }
      }

      // ë¸”ë¡œê·¸ ê¸€ ìƒì„± í•¨ìˆ˜
      async function generateBlog() {
        // ë¡œê·¸ì¸ ì²´í¬ (í•„ìˆ˜)
        if (typeof auth === 'undefined' || !auth) {
          const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
          alert(message);
          window.location.href = 'login.html';
          return;
        }
        
        const user = auth.currentUser;
        if (!user) {
          const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
          alert(message);
          window.location.href = 'login.html';
          return;
        }
        
        // Firestore ì´ˆê¸°í™” í™•ì¸
        if (typeof db === 'undefined' || !db) {
          showAlert('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }
        
        // ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ë° ì¼ì¼ ìƒì„± ì œí•œ ì²´í¬
        try {
          const userDoc = await db.collection('users').doc(user.uid).get();
          if (!userDoc.exists) {
            showAlert('ì‚¬ìš©ì ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.', 'error');
            return;
          }
          
          const userData = userDoc.data();
          const membershipType = userData.membershipType || 'free';
          
          // ì¼ì¼ ìƒì„± ì œí•œ ì„¤ì •
          const dailyLimit = membershipType === 'premium' ? 10 : 1;
          
          // ì˜¤ëŠ˜ ë‚ ì§œ (YYYY-MM-DD í˜•ì‹)
          const today = new Date();
          const todayStr = today.toISOString().split('T')[0];
          
          // ì‚¬ìš©ì ì¼ì¼ ì‚¬ìš©ëŸ‰ ì¡°íšŒ
          const usageDoc = await db.collection('users').doc(user.uid)
            .collection('usage').doc(todayStr).get();
          
          let todayCount = 0;
          if (usageDoc.exists) {
            todayCount = usageDoc.data().count || 0;
          }
          
          // ì œí•œ ì²´í¬
          if (todayCount >= dailyLimit) {
            const limitText = membershipType === 'premium' ? '10ê°œ' : '1ê°œ';
            showAlert(`ì¼ì¼ ìƒì„± ì œí•œ(${limitText})ì— ë„ë‹¬í–ˆìŠµë‹ˆë‹¤. ë‚´ì¼ ë‹¤ì‹œ ì´ìš©í•´ì£¼ì„¸ìš”.`, 'error');
            return;
          }
          
          // ìƒì„± ê°€ëŠ¥ - ê³„ì† ì§„í–‰
        } catch (error) {
          console.error('ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì˜¤ë¥˜:', error);
          showAlert('ì‚¬ìš©ì ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }
        
        const topic = document.getElementById('topic').value.trim();
        const mainKeyword = document.getElementById('mainKeyword').value.trim();
        const alertContainer = document.getElementById('alertContainer');
        const generateBtn = document.getElementById('generateBtn');
        const blogResult = document.getElementById('blogResult');
        const blogContent = document.getElementById('blogContent');

        if (selectedKeywords.length === 0) {
          showAlert('ìµœì†Œ 1ê°œ ì´ìƒì˜ ì„œë¸Œí‚¤ì›Œë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.', 'error');
          return;
        }

        // ë¡œë”© ìƒíƒœ
        generateBtn.disabled = true;
        generateBtn.innerHTML = '<span class="loading-spinner"></span>ë¸”ë¡œê·¸ ê¸€ ìƒì„± ì¤‘...';
        alertContainer.innerHTML = '';

        try {
          const controller = new AbortController();
          const timeoutId = setTimeout(() => controller.abort(), 60000);
          
          const apiUrl = isLocalhost ? `${API_BASE_URL}/api/generate-blog` : '/api/generate-blog';
          const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              topic,
              mainKeyword,
              subKeywords: selectedKeywords
            }),
            signal: controller.signal
          }).catch(fetchError => {
            clearTimeout(timeoutId);
            console.error('Fetch ì˜¤ë¥˜:', fetchError);
            if (fetchError.name === 'AbortError') {
              throw new Error('ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
            }
            if (isLocalhost) {
              throw new Error('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. API ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”. (http://localhost:3001)');
            } else {
              throw new Error('ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            }
          });
          
          clearTimeout(timeoutId);

          if (!response) {
            throw new Error('ì„œë²„ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          }

          const data = await response.json();

          if (!response.ok) {
            throw new Error(data.error || 'ë¸”ë¡œê·¸ ê¸€ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          }

          // ë¸”ë¡œê·¸ ë‚´ìš© í‘œì‹œ
          let htmlContent = data.content;
          
          // ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡ ì œê±° (```HTML ... ``` í˜•ì‹)
          htmlContent = htmlContent.replace(/```\s*html\s*\n?/gi, '').trim();
          htmlContent = htmlContent.replace(/```\s*HTML\s*\n?/gi, '').trim();
          htmlContent = htmlContent.replace(/\n?\s*```\s*$/gm, '').trim();
          htmlContent = htmlContent.replace(/^```\s*\n?/gm, '').trim();
          htmlContent = htmlContent.replace(/```\s*$/gm, '').trim();
          // ì½”ë“œ ë¸”ë¡ ì „ì²´ ì œê±° (```ë¡œ ì‹œì‘í•´ì„œ ```ë¡œ ëë‚˜ëŠ” ë¶€ë¶„)
          htmlContent = htmlContent.replace(/```[\s\S]*?```/g, '').trim();
          
          // HTML í…ìŠ¤íŠ¸ ì œê±° (í”„ë¡¬í”„íŠ¸ì—ì„œ ë‚˜ì˜¨ "HTML í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•´ì£¼ë˜" ê°™ì€ í…ìŠ¤íŠ¸ ì œê±°)
          htmlContent = htmlContent.replace(/HTML\s*í˜•ì‹ìœ¼ë¡œ\s*ì‘ì„±/gi, '').trim();
          htmlContent = htmlContent.replace(/HTML\s*í˜•ì‹/gi, '').trim();
          htmlContent = htmlContent.replace(/^\s*HTML\s*$/gmi, '').trim();
          htmlContent = htmlContent.replace(/\n\s*\n\s*\n/g, '\n\n');
          
          // HTML ë‚´ìš© í‘œì‹œ
          blogContent.innerHTML = htmlContent;
          
          // í…ìŠ¤íŠ¸ ë‚´ìš© ì¶”ì¶œ (HTML íƒœê·¸ ì œê±°)
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = htmlContent;
          let textContent = tempDiv.innerText || tempDiv.textContent || '';
          
          // ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡ ì œê±°
          textContent = textContent.replace(/```\s*html\s*\n?/gi, '').trim();
          textContent = textContent.replace(/```\s*HTML\s*\n?/gi, '').trim();
          textContent = textContent.replace(/\n?\s*```\s*$/gm, '').trim();
          textContent = textContent.replace(/^```\s*\n?/gm, '').trim();
          textContent = textContent.replace(/```\s*$/gm, '').trim();
          // ì½”ë“œ ë¸”ë¡ ì „ì²´ ì œê±° (```ë¡œ ì‹œì‘í•´ì„œ ```ë¡œ ëë‚˜ëŠ” ë¶€ë¶„)
          textContent = textContent.replace(/```[\s\S]*?```/g, '').trim();
          
          // í…ìŠ¤íŠ¸ ì •ë¦¬
          textContent = textContent.replace(/HTML\s*í˜•ì‹ìœ¼ë¡œ\s*ì‘ì„±/gi, '').trim();
          textContent = textContent.replace(/HTML\s*í˜•ì‹/gi, '').trim();
          textContent = textContent.replace(/^\s*HTML\s*$/gmi, '').trim();
          textContent = textContent.replace(/\n\s*\n\s*\n/g, '\n\n').trim();
          
          // í…ìŠ¤íŠ¸ ì˜ì—­ì— í‘œì‹œ
          const blogTextContent = document.getElementById('blogTextContent');
          const blogTextContainer = document.getElementById('blogTextContainer');
          if (blogTextContent && blogTextContainer) {
            blogTextContent.value = textContent;
            blogTextContainer.style.display = 'block';
          }
          
          blogResult.style.display = 'block';
          
          // ìŠ¤í¬ë¡¤ ì´ë™
          blogResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
          
          // ì¼ì¼ ì‚¬ìš©ëŸ‰ ì¦ê°€ (ìƒì„± ì„±ê³µ í›„)
          try {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const usageRef = db.collection('users').doc(user.uid)
              .collection('usage').doc(todayStr);
            
            await usageRef.set({
              count: firebase.firestore.FieldValue.increment(1),
              date: todayStr,
              lastUsed: firebase.firestore.FieldValue.serverTimestamp()
            }, { merge: true });
            
            console.log('ì¼ì¼ ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
          } catch (usageError) {
            console.error('ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', usageError);
            // ì‚¬ìš©ëŸ‰ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨í•´ë„ ìƒì„±ì€ ì„±ê³µí–ˆìœ¼ë¯€ë¡œ ê³„ì† ì§„í–‰
          }
          
          showAlert('ë¸”ë¡œê·¸ ê¸€ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        } catch (error) {
          console.error('ë¸”ë¡œê·¸ ìƒì„± ì˜¤ë¥˜:', error);
          let errorMessage = error.message || 'ë¸”ë¡œê·¸ ê¸€ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
          
          // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¸ ê²½ìš°
          if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError') || error.message.includes('ì—°ê²°') || error.message.includes('ì„œë²„ì— ì—°ê²°')) {
            if (isLocalhost) {
              errorMessage = 'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\ní•´ê²° ë°©ë²•:\n1. í„°ë¯¸ë„ì—ì„œ "npm run server" ëª…ë ¹ì–´ë¡œ API ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.\n2. ì„œë²„ê°€ http://localhost:3001 ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.';
            } else {
              errorMessage = 'ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
            }
          }
          
          showAlert(errorMessage, 'error');
        } finally {
          generateBtn.disabled = false;
          generateBtn.innerHTML = 'ë¸”ë¡œê·¸ ê¸€ ìƒì„±';
        }
      }

      // í…ìŠ¤íŠ¸ ë³µì‚¬ í•¨ìˆ˜
      function copyTextContent() {
        const blogTextContent = document.getElementById('blogTextContent');
        
        if (!blogTextContent || !blogTextContent.value.trim()) {
          showBlogResultAlert('ë³µì‚¬í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.', 'error');
          return;
        }

        try {
          // textarea ì„ íƒ
          blogTextContent.select();
          blogTextContent.setSelectionRange(0, 99999); // ëª¨ë°”ì¼ ì§€ì›
          
          // í´ë¦½ë³´ë“œì— ë³µì‚¬
          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(blogTextContent.value).then(() => {
              showBlogResultAlert('í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            }).catch(err => {
              // fallback ì‚¬ìš©
              copyWithFallback();
            });
          } else {
            copyWithFallback();
          }
        } catch (error) {
          console.error('ë³µì‚¬ ì˜¤ë¥˜:', error);
          copyWithFallback();
        }
        
        function copyWithFallback() {
          try {
            const success = document.execCommand('copy');
            if (success) {
              showBlogResultAlert('í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
            } else {
              showBlogResultAlert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•˜ì—¬ ë³µì‚¬í•´ì£¼ì„¸ìš”.', 'error');
            }
          } catch (err) {
            showBlogResultAlert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•˜ì—¬ ë³µì‚¬í•´ì£¼ì„¸ìš”.', 'error');
          }
        }
      }

      // í…ìŠ¤íŠ¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜
      function downloadTextFile() {
        const blogTextContent = document.getElementById('blogTextContent');
        const topic = document.getElementById('topic')?.value || 'ë¸”ë¡œê·¸í¬ìŠ¤íŒ…';
        const mainKeyword = document.getElementById('mainKeyword')?.value || '';
        
        if (!blogTextContent || !blogTextContent.value.trim()) {
          showBlogResultAlert('ë‹¤ìš´ë¡œë“œí•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.', 'error');
          return;
        }

        try {
          // íŒŒì¼ëª… ìƒì„±
          const fileName = `${topic}_${mainKeyword}_${new Date().getTime()}.txt`.replace(/[^a-zA-Z0-9ê°€-í£_]/g, '_');
          
          // Blob ìƒì„±
          const blob = new Blob([blogTextContent.value], { type: 'text/plain;charset=utf-8' });
          
          // ë‹¤ìš´ë¡œë“œ ë§í¬ ìƒì„±
          const url = URL.createObjectURL(blob);
          const link = document.createElement('a');
          link.href = url;
          link.download = fileName;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(url);
          
          showBlogResultAlert('íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        } catch (error) {
          console.error('ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:', error);
          showBlogResultAlert('íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
        }
      }

      // ë¸”ë¡œê·¸ ê²°ê³¼ ì„¹ì…˜ìš© ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
      function showBlogResultAlert(message, type) {
        const alertContainer = document.getElementById('blogResultAlertContainer');
        if (!alertContainer) {
          console.error('blogResultAlertContainerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          alert(message); // fallback
          return;
        }
        
        const alert = document.createElement('div');
        alert.className = `alert alert-${type}`;
        alert.textContent = message;
        alertContainer.innerHTML = '';
        alertContainer.appendChild(alert);
        
        // 5ì´ˆ í›„ ìë™ ì œê±° (ì—ëŸ¬ëŠ” ì œì™¸)
        if (type !== 'error') {
          setTimeout(() => {
            alert.remove();
          }, 5000);
        }
      }

      // ê²€ì‚¬í•˜ê¸° í•¨ìˆ˜ - ìƒì„±ê¸°ì—ì„œ ê²€ì‚¬ê¸°ë¡œ ì´ë™
      function checkBlog() {
        // ìƒì„±ëœ ë¸”ë¡œê·¸ ë‚´ìš©ì„ ê²€ì‚¬ê¸°ë¡œ ì „ë‹¬
        const blogContent = document.getElementById('blogContent');
        const blogTextContent = document.getElementById('blogTextContent');
        const topic = document.getElementById('topic')?.value || '';
        const mainKeyword = document.getElementById('mainKeyword')?.value || '';
        
        if (blogContent && blogTextContent) {
          // ê²€ì‚¬ê¸° ì„¹ì…˜ìœ¼ë¡œ ì „í™˜ (ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•˜ì§€ ì•ŠìŒ)
          showChecker(false);
          
          // ì œëª© ìƒì„± (ì£¼ì œ + ë©”ì¸í‚¤ì›Œë“œ ì¡°í•©)
          let title = '';
          if (topic && mainKeyword) {
            title = `${topic} - ${mainKeyword}`;
          } else if (topic) {
            title = topic;
          } else if (mainKeyword) {
            title = mainKeyword;
          } else {
            // HTMLì—ì„œ h1 íƒœê·¸ ì¶”ì¶œ ì‹œë„
            const h1Element = blogContent.querySelector('h1');
            if (h1Element) {
              title = h1Element.innerText || h1Element.textContent || '';
            }
          }
          
          // ì œëª© ì „ë‹¬
          const checkerTitle = document.getElementById('checkerTitle');
          if (checkerTitle) {
            checkerTitle.value = title;
          }
          
          // ë‚´ìš© ì „ë‹¬
          const checkerContent = document.getElementById('checkerContent');
          if (checkerContent) {
            checkerContent.value = blogTextContent.value || blogContent.innerText || '';
          }
          
          // ê²€ì‚¬ ì‹¤í–‰
          setTimeout(() => {
            checkPosting();
          }, 300);
        } else {
          showAlert('ê²€ì‚¬í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.', 'error');
        }
      }
      
      // í¬ìŠ¤íŒ… ê²€ì‚¬ í•¨ìˆ˜
      function checkPosting() {
        // ê²€ì‚¬ê¸°ëŠ” ë¡œê·¸ì¸ í•„ìš” (ì œí•œ ì—†ìŒ)
        if (typeof auth === 'undefined' || !auth) {
          const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
          alert(message);
          window.location.href = 'login.html';
          return;
        }
        
        const user = auth.currentUser;
        if (!user) {
          const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
          alert(message);
          window.location.href = 'login.html';
          return;
        }
        
        const title = document.getElementById('checkerTitle').value.trim();
        const content = document.getElementById('checkerContent').value.trim();
        const checkBtn = document.getElementById('checkBtn');
        const alertContainer = document.getElementById('checkerAlertContainer');
        
        if (!content) {
          showCheckerAlert('í¬ìŠ¤íŒ… ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
          return;
        }
        
        // ë¡œë”© ìƒíƒœ
        checkBtn.disabled = true;
        checkBtn.innerHTML = '<span class="loading-spinner"></span>ê²€ì‚¬ ì¤‘...';
        alertContainer.innerHTML = '';
        
        // ê²€ì‚¬ ê²°ê³¼ ì´ˆê¸°í™”
        resetCheckerResults();
        
        // ì‹¤ì œ ê²€ì‚¬ ë¡œì§ (í˜„ì¬ëŠ” UIë§Œ êµ¬í˜„)
        setTimeout(() => {
          performCheck(title, content);
          
          checkBtn.disabled = false;
          checkBtn.innerHTML = 'ê²€ì‚¬í•˜ê¸°';
        }, 500);
      }
      
      // ê²€ì‚¬ ê²°ê³¼ ì´ˆê¸°í™”
      function resetCheckerResults() {
        document.getElementById('resultCharCount').textContent = '-';
        document.getElementById('resultCharDetail').textContent = 'ê²€ì‚¬ ì¤‘...';
        document.getElementById('resultSpelling').textContent = '-';
        document.getElementById('resultSpellingDetail').textContent = '-';
        document.getElementById('resultSpellingStatus').innerHTML = '';
        document.getElementById('resultSpellingList').style.display = 'none';
        document.getElementById('resultMorphology').textContent = '-';
        document.getElementById('resultMorphologyDetail').textContent = '-';
        document.getElementById('resultMorphologyStatus').innerHTML = '';
        document.getElementById('resultMorphologyList').style.display = 'none';
        document.getElementById('resultForbidden').textContent = '-';
        document.getElementById('resultForbiddenDetail').textContent = '-';
        document.getElementById('resultForbiddenStatus').innerHTML = '';
        document.getElementById('resultForbiddenList').style.display = 'none';
        document.getElementById('resultRepetition').textContent = '-';
        document.getElementById('resultRepetitionDetail').textContent = '-';
        document.getElementById('resultRepetitionStatus').innerHTML = '';
        document.getElementById('resultRepetitionList').style.display = 'none';
      }
      
      // ì‹¤ì œ ê²€ì‚¬ ìˆ˜í–‰ (UI í…ŒìŠ¤íŠ¸ìš©)
      function performCheck(title, content) {
        // ê¸€ììˆ˜ ê²€ì‚¬
        const charCountWithSpace = content.length; // ê³µë°± í¬í•¨
        const charCountWithoutSpace = content.replace(/\s/g, '').length; // ê³µë°± ì œì™¸
        const wordCount = content.split(/\s+/).filter(word => word.length > 0).length;
        
        // ê³µë°± í¬í•¨/ì œì™¸ ê¸€ììˆ˜ í‘œì‹œ
        document.getElementById('resultCharCount').textContent = 
          charCountWithSpace.toLocaleString() + 'ì (ê³µë°± í¬í•¨) / ' + 
          charCountWithoutSpace.toLocaleString() + 'ì (ê³µë°± ì œì™¸)';
        
        // 1500~2000ì ê¸°ì¤€ ì²´í¬ (ê³µë°± ì œì™¸ ê¸°ì¤€)
        let lengthStatus = '';
        let lengthStatusClass = '';
        if (charCountWithoutSpace < MIN_CHAR_COUNT) {
          lengthStatus = 'ë¶€ì¡±';
          lengthStatusClass = 'warning';
        } else if (charCountWithoutSpace > WARNING_CHAR_COUNT) {
          lengthStatus = 'ì£¼ì˜';
          lengthStatusClass = 'warning';
        } else if (charCountWithoutSpace > MAX_CHAR_COUNT) {
          lengthStatus = 'ì´ˆê³¼';
          lengthStatusClass = 'warning';
        } else {
          lengthStatus = 'ì ì •';
          lengthStatusClass = 'success';
        }
        
        document.getElementById('resultCharDetail').innerHTML = 
          `ê³µë°± ì œì™¸: ${charCountWithoutSpace.toLocaleString()}ì | ë‹¨ì–´ ìˆ˜: ${wordCount}ê°œ<br>` +
          `<span class="result-status ${lengthStatusClass}" style="margin-top: 8px; display: inline-block;">${lengthStatus} (ê¶Œì¥: ${MIN_CHAR_COUNT.toLocaleString()}~${MAX_CHAR_COUNT.toLocaleString()}ì${charCountWithoutSpace > WARNING_CHAR_COUNT ? `, ì£¼ì˜: ${WARNING_CHAR_COUNT.toLocaleString()}ì ì´ˆê³¼` : ''})</span>`;
        
        // ë§ì¶¤ë²• ê²€ì‚¬ (ì„ì‹œ - ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ í•„ìš”)
        const spellingErrors = checkSpelling(content);
        if (spellingErrors.length === 0) {
          document.getElementById('resultSpelling').textContent = 'ì •ìƒ';
          document.getElementById('resultSpellingDetail').textContent = 'ë§ì¶¤ë²• ì˜¤ë¥˜ê°€ ì—†ìŠµë‹ˆë‹¤.';
          document.getElementById('resultSpellingStatus').innerHTML = '<span class="result-status success">í†µê³¼</span>';
        } else {
          document.getElementById('resultSpelling').textContent = spellingErrors.length + 'ê°œ ì˜¤ë¥˜';
          document.getElementById('resultSpellingDetail').textContent = 'ë§ì¶¤ë²• ì˜¤ë¥˜ë¥¼ í™•ì¸í•˜ì„¸ìš”.';
          document.getElementById('resultSpellingStatus').innerHTML = '<span class="result-status error">ì˜¤ë¥˜ ë°œê²¬</span>';
          const spellingList = document.getElementById('resultSpellingList');
          spellingList.innerHTML = '';
          spellingErrors.forEach(error => {
            const item = document.createElement('div');
            item.className = 'result-list-item';
            item.textContent = error;
            spellingList.appendChild(item);
          });
          spellingList.style.display = 'block';
        }
        
        // í˜•íƒœì†Œ ê²€ì‚¬ (ì„ì‹œ)
        const morphologyIssues = checkMorphology(content);
        if (morphologyIssues.length === 0) {
          document.getElementById('resultMorphology').textContent = 'ì •ìƒ';
          document.getElementById('resultMorphologyDetail').textContent = 'í˜•íƒœì†Œ ë¶„ì„ ê²°ê³¼ ì •ìƒì…ë‹ˆë‹¤.';
          document.getElementById('resultMorphologyStatus').innerHTML = '<span class="result-status success">í†µê³¼</span>';
        } else {
          document.getElementById('resultMorphology').textContent = morphologyIssues.length + 'ê°œ ì´ìŠˆ';
          document.getElementById('resultMorphologyDetail').textContent = 'í˜•íƒœì†Œ ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.';
          document.getElementById('resultMorphologyStatus').innerHTML = '<span class="result-status warning">ì£¼ì˜</span>';
          const morphologyList = document.getElementById('resultMorphologyList');
          morphologyList.innerHTML = '';
          morphologyIssues.forEach(issue => {
            const item = document.createElement('div');
            item.className = 'result-list-item';
            item.textContent = issue;
            morphologyList.appendChild(item);
          });
          morphologyList.style.display = 'block';
        }
        
        // ê¸ˆì¹™ì–´ ê²€ì‚¬ (ì„ì‹œ)
        const forbiddenWords = checkForbiddenWords(content);
        if (forbiddenWords.length === 0) {
          document.getElementById('resultForbidden').textContent = 'ì—†ìŒ';
          document.getElementById('resultForbiddenDetail').textContent = 'ê¸ˆì¹™ì–´ê°€ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.';
          document.getElementById('resultForbiddenStatus').innerHTML = '<span class="result-status success">í†µê³¼</span>';
        } else {
          document.getElementById('resultForbidden').textContent = forbiddenWords.length + 'ê°œ ë°œê²¬';
          document.getElementById('resultForbiddenDetail').textContent = 'ê¸ˆì¹™ì–´ë¥¼ ìˆ˜ì •í•´ì£¼ì„¸ìš”.';
          document.getElementById('resultForbiddenStatus').innerHTML = '<span class="result-status error">ì˜¤ë¥˜ ë°œê²¬</span>';
          const forbiddenList = document.getElementById('resultForbiddenList');
          forbiddenList.innerHTML = '';
          forbiddenWords.forEach(word => {
            const item = document.createElement('div');
            item.className = 'result-list-item';
            item.textContent = word;
            forbiddenList.appendChild(item);
          });
          forbiddenList.style.display = 'block';
        }
        
        // ë°˜ë³µì–´ ê²€ì‚¬
        const repetitionWords = checkRepetition(content);
        if (repetitionWords.length === 0) {
          document.getElementById('resultRepetition').textContent = 'ì •ìƒ';
          document.getElementById('resultRepetitionDetail').textContent = 'ê³¼ë„í•œ ë°˜ë³µì–´ê°€ ì—†ìŠµë‹ˆë‹¤.';
          document.getElementById('resultRepetitionStatus').innerHTML = '<span class="result-status success">í†µê³¼</span>';
        } else {
          document.getElementById('resultRepetition').textContent = repetitionWords.length + 'ê°œ ë°œê²¬';
          document.getElementById('resultRepetitionDetail').textContent = 'ë°˜ë³µë˜ëŠ” ë‹¨ì–´ë¥¼ í™•ì¸í•˜ì„¸ìš”.';
          document.getElementById('resultRepetitionStatus').innerHTML = '<span class="result-status warning">ì£¼ì˜</span>';
          const repetitionList = document.getElementById('resultRepetitionList');
          repetitionList.innerHTML = '';
          repetitionWords.forEach(item => {
            const listItem = document.createElement('div');
            listItem.className = 'result-list-item';
            const typeLabel = item.type === 'ì „ì²´ ë°˜ë³µ' ? '[ì „ì²´]' : '[ë‹¨ë½]';
            listItem.textContent = `${typeLabel} ${item.word} (${item.count}íšŒ) - ${item.description}`;
            repetitionList.appendChild(listItem);
          });
          repetitionList.style.display = 'block';
        }
      }
      
      // ë§ì¶¤ë²• ê²€ì‚¬ í•¨ìˆ˜ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê·œì¹™ ê¸°ë°˜)
      function checkSpelling(content) {
        const errors = [];
        
        // 1. ìì£¼ í‹€ë¦¬ëŠ” ë§ì¶¤ë²• íŒ¨í„´ ê²€ì‚¬
        const commonMistakes = [
          {
            pattern: /\bë˜\s+ìˆ\s+ì–´/gi,
            correct: 'ë˜ì–´ ìˆì–´',
            description: '"ë˜ ìˆì–´" â†’ "ë˜ì–´ ìˆì–´"'
          },
          {
            pattern: /\bë˜\s+ìˆ\s+ëŠ”/gi,
            correct: 'ë˜ì–´ ìˆëŠ”',
            description: '"ë˜ ìˆëŠ”" â†’ "ë˜ì–´ ìˆëŠ”"'
          },
          {
            pattern: /\bë˜\s+ìˆ\s+ë‹¤/gi,
            correct: 'ë˜ì–´ ìˆë‹¤',
            description: '"ë˜ ìˆë‹¤" â†’ "ë˜ì–´ ìˆë‹¤"'
          },
          {
            pattern: /\bë˜\s+ìˆ\s+ì—ˆ/gi,
            correct: 'ë˜ì–´ ìˆì—ˆ',
            description: '"ë˜ ìˆì—ˆ" â†’ "ë˜ì–´ ìˆì—ˆ"'
          },
          {
            pattern: /\bë¼\s+ìˆ\s+ì–´/gi,
            correct: 'ë˜ì–´ ìˆì–´',
            description: '"ë¼ ìˆì–´" â†’ "ë˜ì–´ ìˆì–´"'
          },
          {
            pattern: /\bë¼\s+ìˆ\s+ëŠ”/gi,
            correct: 'ë˜ì–´ ìˆëŠ”',
            description: '"ë¼ ìˆëŠ”" â†’ "ë˜ì–´ ìˆëŠ”"'
          },
          {
            pattern: /\bë¼\s+ìˆ\s+ë‹¤/gi,
            correct: 'ë˜ì–´ ìˆë‹¤',
            description: '"ë¼ ìˆë‹¤" â†’ "ë˜ì–´ ìˆë‹¤"'
          },
          {
            pattern: /\bì•ˆ\s+ë˜\s+ì–´/gi,
            correct: 'ì•ˆ ë¼ì–´',
            description: '"ì•ˆ ë˜ì–´" â†’ "ì•ˆ ë¼ì–´" ë˜ëŠ” "ì•ˆ ë˜ì–´"'
          },
          {
            pattern: /\bì•ˆ\s+ë˜\s+ëŠ”/gi,
            correct: 'ì•ˆ ë˜ëŠ”',
            description: '"ì•ˆ ë˜ëŠ”" â†’ "ì•ˆ ë˜ëŠ”" (ì˜¬ë°”ë¦„)'
          },
          {
            pattern: /\bì•ˆ\s+ë˜\s+ë‹¤/gi,
            correct: 'ì•ˆ ëœë‹¤',
            description: '"ì•ˆ ë˜ë‹¤" â†’ "ì•ˆ ëœë‹¤"'
          },
          {
            pattern: /\bì•ˆ\s+ë¼\s+ì–´/gi,
            correct: 'ì•ˆ ë¼ì–´',
            description: '"ì•ˆ ë¼ì–´" â†’ "ì•ˆ ë¼ì–´" (ì˜¬ë°”ë¦„)'
          },
          {
            pattern: /\bë˜\s+ë¼/gi,
            correct: 'ë˜',
            description: '"ë˜ë¼" â†’ "ë˜" ë˜ëŠ” "ë¼"'
          },
          {
            pattern: /\bì•ˆ\s+ì•Š\s+ì–´/gi,
            correct: 'ì•ˆ í•´',
            description: '"ì•ˆ ì•Šì–´" â†’ "ì•ˆ í•´" ë˜ëŠ” "ì•Šì•„"'
          },
          {
            pattern: /\bì•ˆ\s+ì•Š\s+ëŠ”/gi,
            correct: 'ì•ŠëŠ”',
            description: '"ì•ˆ ì•ŠëŠ”" â†’ "ì•ŠëŠ”"'
          },
          {
            pattern: /\bì•ˆ\s+ì•Š\s+ë‹¤/gi,
            correct: 'ì•Šë‹¤',
            description: '"ì•ˆ ì•Šë‹¤" â†’ "ì•Šë‹¤"'
          },
          {
            pattern: /\bë˜\s+ê³ \s+ìˆ\s+ì–´/gi,
            correct: 'ë˜ê³  ìˆì–´',
            description: '"ë˜ ê³  ìˆì–´" â†’ "ë˜ê³  ìˆì–´" (ë„ì–´ì“°ê¸°)'
          },
          {
            pattern: /\bë˜\s+ê³ \s+ìˆ\s+ëŠ”/gi,
            correct: 'ë˜ê³  ìˆëŠ”',
            description: '"ë˜ ê³  ìˆëŠ”" â†’ "ë˜ê³  ìˆëŠ”" (ë„ì–´ì“°ê¸°)'
          },
          {
            pattern: /\bë˜\s+ê³ \s+ìˆ\s+ë‹¤/gi,
            correct: 'ë˜ê³  ìˆë‹¤',
            description: '"ë˜ ê³  ìˆë‹¤" â†’ "ë˜ê³  ìˆë‹¤" (ë„ì–´ì“°ê¸°)'
          },
          {
            pattern: /\bë¼\s+ê³ \s+ìˆ\s+ì–´/gi,
            correct: 'ë˜ê³  ìˆì–´',
            description: '"ë¼ ê³  ìˆì–´" â†’ "ë˜ê³  ìˆì–´" (ë„ì–´ì“°ê¸°)'
          },
          {
            pattern: /\bë¼\s+ê³ \s+ìˆ\s+ëŠ”/gi,
            correct: 'ë˜ê³  ìˆëŠ”',
            description: '"ë¼ ê³  ìˆëŠ”" â†’ "ë˜ê³  ìˆëŠ”" (ë„ì–´ì“°ê¸°)'
          },
          {
            pattern: /\bë¼\s+ê³ \s+ìˆ\s+ë‹¤/gi,
            correct: 'ë˜ê³  ìˆë‹¤',
            description: '"ë¼ ê³  ìˆë‹¤" â†’ "ë˜ê³  ìˆë‹¤" (ë„ì–´ì“°ê¸°)'
          }
        ];
        
        // íŒ¨í„´ ê²€ì‚¬
        commonMistakes.forEach(({ pattern, description }) => {
          const matches = content.match(pattern);
          if (matches) {
            matches.forEach(match => {
              errors.push(`${description} - ë°œê²¬: "${match.trim()}"`);
            });
          }
        });
        
        // 2. ë„ì–´ì“°ê¸° ì˜¤ë¥˜ ê²€ì‚¬ (ë„ì–´ì“°ê¸° ëˆ„ë½ì€ ì œì™¸)
        const spacingErrors = [
          {
            pattern: /\b([ê°€-í£]+)\s+([ì´ê°€ì„ë¥¼ì˜ì™€ê³¼ë„ë§Œë¶€í„°ê¹Œì§€ì—ì„œì—ê²Œë¡œë¶€í„°])\s+/g,
            description: 'ì¡°ì‚¬ ì• ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          },
          {
            pattern: /\s+([ì´ê°€ì„ë¥¼ì˜ì™€ê³¼ë„ë§Œë¶€í„°ê¹Œì§€ì—ì„œì—ê²Œë¡œë¶€í„°])\s+([ê°€-í£]+)/g,
            description: 'ì¡°ì‚¬ ë’¤ ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          }
        ];
        
        // 3. ì¤‘ë³µ ë„ì–´ì“°ê¸° ê²€ì‚¬ (ì˜¤ë¥˜ë¡œ í‘œì‹œí•˜ì§€ ì•ŠìŒ)
        // const doubleSpacePattern = /\s{2,}/g;
        // const doubleSpaces = content.match(doubleSpacePattern);
        // if (doubleSpaces) {
        //   errors.push(`ì¤‘ë³µ ë„ì–´ì“°ê¸° ë°œê²¬ (${doubleSpaces.length}ê³³)`);
        // }
        
        // 4. ë¬¸ì¥ ë¶€í˜¸ ì˜¤ë¥˜ ê²€ì‚¬ (ë„ì–´ì“°ê¸° ëˆ„ë½ì€ ì œì™¸)
        const punctuationErrors = [];
        
        punctuationErrors.forEach(({ pattern, description }) => {
          const matches = content.match(pattern);
          if (matches) {
            matches.forEach(match => {
              errors.push(`${description} - ë°œê²¬: "${match.trim()}"`);
            });
          }
        });
        
        // 5. ìì£¼ í‹€ë¦¬ëŠ” ë‹¨ì–´ ê²€ì‚¬
        const wrongWords = [
          {
            wrong: /\bë˜ìš”\b/g,
            correct: 'ë¼ìš”',
            description: '"ë˜ìš”" â†’ "ë¼ìš”"'
          },
          {
            wrong: /\bë¼ë©´\b/g,
            correct: 'ë˜ë©´',
            description: '"ë¼ë©´" â†’ "ë˜ë©´"'
          },
          {
            wrong: /\bë˜ì„œ\b/g,
            correct: 'ë˜ì–´ì„œ',
            description: '"ë˜ì„œ" â†’ "ë˜ì–´ì„œ"'
          },
          {
            wrong: /\bë¼ì„œ\b/g,
            correct: 'ë˜ì–´ì„œ',
            description: '"ë¼ì„œ" â†’ "ë˜ì–´ì„œ"'
          },
          {
            wrong: /\bë¼ëŠ”ë°\b/g,
            correct: 'ë˜ëŠ”ë°',
            description: '"ë¼ëŠ”ë°" â†’ "ë˜ëŠ”ë°"'
          },
          {
            wrong: /\bë¼ì§€ë§Œ\b/g,
            correct: 'ë˜ì§€ë§Œ',
            description: '"ë¼ì§€ë§Œ" â†’ "ë˜ì§€ë§Œ"'
          },
          {
            wrong: /\bë¼ë„ë¡\b/g,
            correct: 'ë˜ë„ë¡',
            description: '"ë¼ë„ë¡" â†’ "ë˜ë„ë¡"'
          },
          {
            wrong: /\bë¼ê²Œ\b/g,
            correct: 'ë˜ê²Œ',
            description: '"ë¼ê²Œ" â†’ "ë˜ê²Œ"'
          },
          {
            wrong: /\bì•ˆë˜\b/g,
            correct: 'ì•ˆ ë¼',
            description: '"ì•ˆë˜" â†’ "ì•ˆ ë¼" (ë„ì–´ì“°ê¸°)'
          },
          {
            wrong: /\bì•ˆë¼\b/g,
            correct: 'ì•ˆ ë¼',
            description: '"ì•ˆë¼" â†’ "ì•ˆ ë¼" (ë„ì–´ì“°ê¸°)'
          },
          {
            wrong: /\bì•ˆì•Š\b/g,
            correct: 'ì•Š',
            description: '"ì•ˆì•Š" â†’ "ì•Š"'
          },
          {
            wrong: /\bì•ˆí•´\b/g,
            correct: 'ì•ˆ í•´',
            description: '"ì•ˆí•´" â†’ "ì•ˆ í•´" (ë„ì–´ì“°ê¸°)'
          },
          {
            wrong: /\bì•ˆí–ˆ\b/g,
            correct: 'ì•ˆ í–ˆ',
            description: '"ì•ˆí–ˆ" â†’ "ì•ˆ í–ˆ" (ë„ì–´ì“°ê¸°)'
          },
          {
            wrong: /\bì•ˆí• \b/g,
            correct: 'ì•ˆ í• ',
            description: '"ì•ˆí• " â†’ "ì•ˆ í• " (ë„ì–´ì“°ê¸°)'
          },
          {
            wrong: /\bì•ˆí•˜\b/g,
            correct: 'ì•ˆ í•˜',
            description: '"ì•ˆí•˜" â†’ "ì•ˆ í•˜" (ë„ì–´ì“°ê¸°)'
          }
        ];
        
        wrongWords.forEach(({ wrong, description }) => {
          const matches = content.match(wrong);
          if (matches) {
            matches.forEach(match => {
              errors.push(`${description} - ë°œê²¬: "${match}"`);
            });
          }
        });
        
        // ì¤‘ë³µ ì œê±° (ê°™ì€ ì˜¤ë¥˜ê°€ ì—¬ëŸ¬ ë²ˆ ë°œê²¬ëœ ê²½ìš°)
        const uniqueErrors = [...new Set(errors)];
        
        return uniqueErrors;
      }
      
      // í˜•íƒœì†Œ ê²€ì‚¬ í•¨ìˆ˜ (í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê·œì¹™ ê¸°ë°˜)
      function checkMorphology(content) {
        const issues = [];
        
        // 1. ì¡°ì‚¬ ì˜¤ë¥˜ ê²€ì‚¬ (ë„ì–´ì“°ê¸° ëˆ„ë½ì€ ì œì™¸)
        const particleErrors = [
          {
            pattern: /\b([ê°€-í£]+)\s+([ì´ê°€ì„ë¥¼ì˜ì™€ê³¼ë„ë§Œë¶€í„°ê¹Œì§€ì—ì„œì—ê²Œë¡œë¶€í„°])\s+([ê°€-í£]+)/g,
            description: 'ì¡°ì‚¬ ì•ë’¤ ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          },
          {
            pattern: /\b([ê°€-í£]+)\s+([ì´ê°€ì„ë¥¼ì˜ì™€ê³¼ë„ë§Œë¶€í„°ê¹Œì§€ì—ì„œì—ê²Œë¡œë¶€í„°])\s*$/gm,
            description: 'ë¬¸ì¥ ë ì¡°ì‚¬ ì• ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          }
        ];
        
        particleErrors.forEach(({ pattern, description }) => {
          const matches = content.match(pattern);
          if (matches && matches.length > 0) {
            issues.push(`${description} (${matches.length}ê³³ ë°œê²¬)`);
          }
        });
        
        // 2. ì–´ë¯¸ ì˜¤ë¥˜ ê²€ì‚¬ (ë„ì–´ì“°ê¸° ëˆ„ë½ì€ ì œì™¸)
        const endingErrors = [
          {
            pattern: /\b([ê°€-í£]+)\s+(ìŠµë‹ˆë‹¤|ìŠµë‹ˆë‹¤\.|ìŠµë‹ˆê¹Œ|ìŠµë‹ˆê¹Œ\?)/g,
            description: 'ì–´ë¯¸ ì• ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          },
          {
            pattern: /\b([ê°€-í£]+)\s+(ì–´ìš”|ì–´ìš”\.|ì•„ìš”|ì•„ìš”\.|ì§€ìš”|ì§€ìš”\.)/g,
            description: 'ì–´ë¯¸ ì• ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          },
          {
            pattern: /\b([ê°€-í£]+)\s+(ë„¤ìš”|ë„¤ìš”\.|ì£ |ì£ \.|ì–´ì•¼|ì–´ì•¼\.)/g,
            description: 'ì–´ë¯¸ ì• ë¶ˆí•„ìš”í•œ ë„ì–´ì“°ê¸°'
          }
        ];
        
        endingErrors.forEach(({ pattern, description }) => {
          const matches = content.match(pattern);
          if (matches && matches.length > 0) {
            issues.push(`${description} (${matches.length}ê³³ ë°œê²¬)`);
          }
        });
        
        // 3. ë¬¸ë²• íŒ¨í„´ ì˜¤ë¥˜ ê²€ì‚¬
        const grammarErrors = [
          {
            pattern: /\b([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)\s+([ê°€-í£]+)/g,
            description: 'ê³¼ë„í•˜ê²Œ ê¸´ ë¬¸ì¥ (10ë‹¨ì–´ ì´ìƒ)'
          },
          {
            pattern: /([ê°€-í£])\1{4,}/g,
            description: 'ê°™ì€ ê¸€ì 5íšŒ ì´ìƒ ë°˜ë³µ'
          },
          {
            pattern: /\b([ê°€-í£]+)\s+\1\s+\1/g,
            description: 'ê°™ì€ ë‹¨ì–´ 3íšŒ ì—°ì† ë°˜ë³µ'
          }
        ];
        
        grammarErrors.forEach(({ pattern, description }) => {
          const matches = content.match(pattern);
          if (matches && matches.length > 0) {
            issues.push(`${description} (${matches.length}ê³³ ë°œê²¬)`);
          }
        });
        
        // 4. ê¸ì •ì–´/ë¶€ì •ì–´ íŒë‹¨
        const positiveWords = [
          'ì¢‹', 'í›Œë¥­', 'ì™„ë²½', 'ìš°ìˆ˜', 'íƒì›”', 'ë›°ì–´ë‚˜', 'í›Œë¥­í•˜', 'í›Œë¥­í•œ', 'í›Œë¥­í•˜ë‹¤',
          'ì„±ê³µ', 'ì„±ì¥', 'ë°œì „', 'í–¥ìƒ', 'ê°œì„ ', 'í–¥ìƒë˜', 'ê°œì„ ë˜', 'ë°œì „í•˜',
          'ë§Œì¡±', 'ê¸°ì¨', 'í–‰ë³µ', 'ì¦ê±°', 'ì¦ê²', 'ê¸°ì˜', 'í–‰ë³µí•˜',
          'íš¨ê³¼', 'íš¨ìœ¨', 'íš¨ê³¼ì ', 'íš¨ìœ¨ì ', 'ìœ ìš©', 'ìœ ìš©í•˜', 'ë„ì›€',
          'ì¶”ì²œ', 'ê¶Œì¥', 'ì¶”ì²œí•˜', 'ê¶Œì¥í•˜', 'ì œì•ˆ',
          'ê¸ì •', 'ê¸ì •ì ', 'ë‚™ê´€', 'ë‚™ê´€ì ', 'ë°', 'ë°ì€',
          'ìŠ¹ë¦¬', 'ì„±ì·¨', 'ë‹¬ì„±', 'ë‹¬ì„±í•˜', 'ì™„ë£Œ', 'ì™„ë£Œí•˜',
          'ì‹ ë¢°', 'ì‹ ë¢°í•˜', 'ë¯¿', 'ë¯¿ì„', 'í™•ì‹ ', 'í™•ì‹ í•˜',
          'ê°ì‚¬', 'ê°ì‚¬í•˜', 'ê³ ë§ˆ', 'ê³ ë§ˆìš´', 'ê°ë™', 'ê°ë™í•˜'
        ];
        
        const negativeWords = [
          'ë‚˜ìœ', 'ë‚˜ì˜', 'ë‚˜ì˜ë‹¤', 'ë‚˜ì¨', 'ë¶ˆëŸ‰', 'ë¶ˆëŸ‰í•˜', 'ë¶ˆëŸ‰í•œ',
          'ì‹¤íŒ¨', 'ì‹¤íŒ¨í•˜', 'ì‹¤íŒ¨í•œ', 'ì‹¤ë§', 'ì‹¤ë§í•˜', 'ì‹¤ë§í•œ',
          'ë¬¸ì œ', 'ë¬¸ì œê°€', 'ë¬¸ì œë¥¼', 'ë¬¸ì œëŠ”', 'ë¬¸ì œì˜', 'ë¬¸ì œì ',
          'ì–´ë ¤ì›€', 'ì–´ë ¤ìš´', 'ì–´ë µ', 'ì–´ë µë‹¤', 'ê³¤ë€', 'ê³¤ë€í•˜',
          'ë¶€ì¡±', 'ë¶€ì¡±í•˜', 'ë¶€ì¡±í•œ', 'ë¶€ì¡±í•˜ë‹¤', 'ë¶€ì¡±í•¨',
          'ë¶€ì •', 'ë¶€ì •ì ', 'ë¹„ê´€', 'ë¹„ê´€ì ', 'ì–´ë‘¡', 'ì–´ë‘ìš´',
          'ê±±ì •', 'ê±±ì •í•˜', 'ê±±ì •ë˜', 'ìš°ë ¤', 'ìš°ë ¤í•˜', 'ìš°ë ¤ë˜',
          'ìœ„í—˜', 'ìœ„í—˜í•˜', 'ìœ„í—˜í•œ', 'ìœ„í—˜í•˜ë‹¤', 'ìœ„í—˜í•¨',
          'ë¶ˆì•ˆ', 'ë¶ˆì•ˆí•˜', 'ë¶ˆì•ˆí•œ', 'ë¶ˆì•ˆí•˜ë‹¤', 'ë¶ˆì•ˆí•¨',
          'ë¶€ë‹´', 'ë¶€ë‹´ë˜', 'ë¶€ë‹´ìŠ¤ëŸ½', 'ë¶€ë‹´ìŠ¤ëŸ¬ìš´',
          'í”¼ë¡œ', 'í”¼ê³¤', 'í”¼ê³¤í•˜', 'í”¼ê³¤í•œ', 'ì§€ì¹˜', 'ì§€ì¹œ',
          'ë¶ˆë§Œ', 'ë¶ˆë§Œì¡±', 'ë¶ˆë§Œì¡±í•˜', 'ë¶ˆë§Œì¡±í•œ',
          'ë¹„íŒ', 'ë¹„íŒí•˜', 'ë¹„íŒì ', 'ë¹„íŒí•˜ë‹¤',
          'ê±°ë¶€', 'ê±°ë¶€í•˜', 'ê±°ë¶€í•˜ë‹¤', 'ê±°ì ˆ', 'ê±°ì ˆí•˜',
          'ê±°ë¶€ê°', 'ê±°ë¶€ê°ì´', 'ê±°ë¶€ê°ì„', 'ê±°ë¶€ê°ì€',
          'í˜¼ë€', 'í˜¼ë€ìŠ¤ëŸ½', 'í˜¼ë€ìŠ¤ëŸ¬ìš´', 'í˜¼ë€í•˜ë‹¤',
          'ì¢Œì ˆ', 'ì¢Œì ˆí•˜', 'ì¢Œì ˆê°', 'ì¢Œì ˆí•˜ë‹¤',
          'ì ˆë§', 'ì ˆë§í•˜', 'ì ˆë§ì ', 'ì ˆë§í•˜ë‹¤',
          'ë¶„ë…¸', 'ë¶„ë…¸í•˜', 'ë¶„ë…¸í•˜ë‹¤', 'í™”ë‚˜', 'í™”ë‚œ',
          'ìŠ¬í””', 'ìŠ¬í”„', 'ìŠ¬í”ˆ', 'ìŠ¬í”„ë‹¤', 'ìš°ìš¸', 'ìš°ìš¸í•˜',
          'ìŠ¤íŠ¸ë ˆìŠ¤', 'ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼', 'ìŠ¤íŠ¸ë ˆìŠ¤ê°€', 'ìŠ¤íŠ¸ë ˆìŠ¤ëŠ”',
          'ë¶ˆí¸', 'ë¶ˆí¸í•˜', 'ë¶ˆí¸í•œ', 'ë¶ˆí¸í•˜ë‹¤',
          'ë¹„ë‚œ', 'ë¹„ë‚œí•˜', 'ë¹„ë‚œí•˜ë‹¤',
          'í˜ì˜¤', 'í˜ì˜¤í•˜', 'í˜ì˜¤í•˜ë‹¤', 'ì‹«', 'ì‹«ì–´', 'ì‹«ì€',
          'ë‘ë ¤ì›€', 'ë‘ë ¤ì›Œ', 'ë‘ë ¤ìš´', 'ë‘ë ¤ì›Œí•˜',
          'ê³µí¬', 'ê³µí¬ë¥¼', 'ê³µí¬ê°€', 'ê³µí¬ìŠ¤ëŸ½', 'ê³µí¬ìŠ¤ëŸ¬ìš´',
          'ì ˆë§', 'ì ˆë§í•˜', 'ì ˆë§ì ', 'ì ˆë§í•˜ë‹¤',
          'í¬ê¸°', 'í¬ê¸°í•˜', 'í¬ê¸°í•˜ë‹¤', 'í¬ê¸°í•œ',
          'í›„íšŒ', 'í›„íšŒí•˜', 'í›„íšŒí•˜ë‹¤', 'í›„íšŒí•œ',
          'ì•„ì‰½', 'ì•„ì‰¬ìš´', 'ì•„ì‰½ë‹¤', 'ì•„ì‰¬ì›Œ',
          'ë¶ˆí–‰', 'ë¶ˆí–‰í•˜', 'ë¶ˆí–‰í•œ', 'ë¶ˆí–‰í•˜ë‹¤',
          'ë¹„ì°¸', 'ë¹„ì°¸í•˜', 'ë¹„ì°¸í•œ', 'ë¹„ì°¸í•˜ë‹¤',
          'ê³ í†µ', 'ê³ í†µìŠ¤ëŸ½', 'ê³ í†µìŠ¤ëŸ¬ìš´', 'ê³ í†µì„',
          'ê´´ë¡œì›€', 'ê´´ë¡œì›Œ', 'ê´´ë¡œìš´', 'ê´´ë¡œì›Œí•˜',
          'í˜ë“¦', 'í˜ë“¤', 'í˜ë“ ', 'í˜ë“¤ë‹¤', 'í˜ë“¤ì–´',
          'ë§‰ë§‰', 'ë§‰ë§‰í•˜', 'ë§‰ë§‰í•œ', 'ë§‰ë§‰í•˜ë‹¤',
          'ë§‰í˜', 'ë§‰íˆ', 'ë§‰íŒ', 'ë§‰íˆë‹¤', 'ë§‰í˜€'
        ];
        
        // ê¸ì •ì–´/ë¶€ì •ì–´ ë¹ˆë„ ê³„ì‚°
        const words = content.split(/\s+/);
        let positiveCount = 0;
        let negativeCount = 0;
        const foundPositiveWords = [];
        const foundNegativeWords = [];
        
        words.forEach(word => {
          const cleanWord = word.replace(/[^\wê°€-í£]/g, '');
          
          // ê¸ì •ì–´ ì²´í¬
          positiveWords.forEach(positive => {
            if (cleanWord.includes(positive) || positive.includes(cleanWord)) {
              positiveCount++;
              if (!foundPositiveWords.includes(positive)) {
                foundPositiveWords.push(positive);
              }
            }
          });
          
          // ë¶€ì •ì–´ ì²´í¬
          negativeWords.forEach(negative => {
            if (cleanWord.includes(negative) || negative.includes(cleanWord)) {
              negativeCount++;
              if (!foundNegativeWords.includes(negative)) {
                foundNegativeWords.push(negative);
              }
            }
          });
        });
        
        // ë¶€ì •ì–´ê°€ ê¸ì •ì–´ë³´ë‹¤ ë§ê±°ë‚˜, ë¶€ì •ì–´ê°€ ì¼ì • ìˆ˜ ì´ìƒì´ë©´ ì£¼ì˜
        if (negativeCount > positiveCount || negativeCount >= 3) {
          const ratio = positiveCount > 0 ? (negativeCount / positiveCount).toFixed(1) : 'ë¬´í•œëŒ€';
          issues.push(`âš ï¸ ë¶€ì •ì  í‘œí˜„ì´ ë§ìŠµë‹ˆë‹¤ (ë¶€ì •: ${negativeCount}íšŒ, ê¸ì •: ${positiveCount}íšŒ, ë¹„ìœ¨: ${ratio}:1)`);
          if (foundNegativeWords.length > 0) {
            issues.push(`ë¶€ì •ì  ë‹¨ì–´: ${foundNegativeWords.slice(0, 5).join(', ')}${foundNegativeWords.length > 5 ? '...' : ''}`);
          }
        } else if (negativeCount > 0 && negativeCount < 3) {
          issues.push(`ë¶€ì •ì  í‘œí˜„ ë°œê²¬ (${negativeCount}íšŒ) - ì£¼ì˜ í•„ìš”`);
        }
        
        // ê¸ì •ì–´ê°€ ë¶€ì •ì–´ë³´ë‹¤ í›¨ì”¬ ë§ìœ¼ë©´ ê¸ì •ì  í†¤
        if (positiveCount > 0 && negativeCount === 0) {
          // ê¸ì •ì  í†¤ì€ ì´ìŠˆê°€ ì•„ë‹˜
        }
        
        return issues;
      }
      
      // ê¸ˆì¹™ì–´ ê²€ì‚¬ í•¨ìˆ˜
      function checkForbiddenWords(content) {
        // ê¸ˆì¹™ì–´ ëª©ë¡
        const forbiddenList = [
          // ê¸°ì¡´ ê¸ˆì¹™ì–´
          'ì¹˜ë£Œíš¨ê³¼',
          'ì™„ì¹˜',
          'ë³´ì¥',
          '100%íš¨ê³¼',
          'ì˜í•™ì ìœ¼ë¡œ ì…ì¦ëœ',
          'ì„ìƒê²°ê³¼',
          'ë¶€ì‘ìš© ì—†ëŠ”',
          'ë§Œë³‘í†µì¹˜',
          'ì¦‰ì‹œíš¨ê³¼',
          'í™•ì • ìˆ˜ìµë¥ ',
          'ì›ê¸ˆë³´ì¥',
          'ë¬´ì¡°ê±´ ìˆ˜ìµ',
          'ê¸‰ë“± ì˜ˆì •',
          'ëŒ€ë°•ì£¼',
          'íˆ¬ìì›ê¸ˆì˜ ëª‡ë°°',
          'ìµœì €ê°€ë¡œ íŒë§¤ì¤‘',
          '100%íš¨ê³¼ë³´ì¥',
          'ë¬´ë£Œ í˜œíƒ',
          'ì™„ë²½í•œ ì†”ë£¨ì…˜ ì œê³µ',
          // ì˜ë£Œ/ê±´ê°• ê´€ë ¨
          'ì‹œìˆ ',
          'ì¹˜ë£Œ',
          'ë¬´ì ˆê°œ',
          'ìµœì†Œì ˆê°œ',
          'ë¬´í†µì¦',
          'ì„í”Œë€íŠ¸',
          'ì§ˆí™˜',
          'ì§ˆë³‘',
          'ì˜ë£Œ',
          'ì˜ˆë°©',
          'ë‚´ì›',
          'ì˜ì‚¬',
          'ì˜ë£Œê¸°ê¸°',
          'ë³‘ì›',
          'ìˆ˜ìˆ ',
          'ì„±í˜•',
          'ì˜ì•½í’ˆ',
          'í™•ì‹¤',
          'ê°€ì¥',
          'ì œì¼',
          'ìµœì‹ ì˜',
          'ìµœê³ ì˜',
          'ìµœìƒì˜',
          'ìµœì†Œí•œ',
          'ë¶€ì‘ìš©ì—†ì´',
          'ì•ˆì „í•œ',
          'í™•ë¥ ì ìœ¼ë¡œ',
          '0%',
          '100%',
          'ì •í™•',
          'ì¹˜ë£Œê²½í—˜ë‹´',
          'ì‹œìˆ í›„ê¸°',
          'ì¶”ì²œ',
          'ì„ ì •ì˜ë£Œê¸°ê´€',
          'ì „ë¬¸ê°€',
          // ê¸ˆìœµ/íˆ¬ì/ëŒ€ì¶œ ê´€ë ¨
          'ë³´í—˜',
          'ëŒ€ë¶€ì—…',
          'ëŒ€ì¶œ',
          'ì €ê¸ˆë¦¬',
          'ê¸ˆë¦¬',
          'í–‡ì‚´ë¡ ',
          'ì‹ ìš©',
          'í‚¤ë“œ',
          'ì¬ë¬´ì„¤ê³„',
          'ìˆ˜ìˆ˜ë£Œ',
          'ë³´ìƒ',
          'ì¹´ë“œë¡ ',
          'ìˆ˜ìµ',
          'ì½”ì¸',
          'ìºí”¼íƒˆ',
          'ê¸ˆìœµ',
          'ê³„ì¢Œ',
          'ì´ì',
          'í€ë“œ',
          // ë§ˆì¼€íŒ…/í™ë³´/ìµœìƒê¸‰ í‘œí˜„
          'ìµœê³ ',
          'ìµœì´ˆ',
          'ìµœëŒ€',
          'ìµœìƒ',
          'ê°•ì¶”',
          '1ë“±',
          'ì¥ë‹´',
          'í• ì¸',
          'ë¬´ë£Œ',
          'ê³µì§œ',
          'ëŒ€ë°•',
          'ìµœì €ê°€',
          'ë°°ì†¡',
          'ì´ì•Œ',
          'íŠ¹ê¸‰ë°°ì†¡',
          'ì§êµ¬',
          'ê³µêµ¬',
          'êµ¬ë§¤ëŒ€í–‰',
          'ì´ë²¤íŠ¸',
          'ëŒ€í–‰',
          'ìƒë‹´',
          'ë°”ë¡œê°€ê¸°',
          'ì—°ë½ì²˜',
          'ì´ë©”ì¼',
          'ì „í™”',
          'ì¶”ì²œì¸',
          'ë‹¤ìš´ë¡œë“œ',
          'ê°€ì…',
          'ë¹ ë¥¸ê³³',
          'ì €ë ´í•œê³³',
          'ì˜í•˜ëŠ” ê³³',
          // ë¶ˆë²•/ìœ í•´/ë¯¼ê° ì½˜í…ì¸ 
          'ë§ˆì•½',
          'ì´ê¸°',
          'ë„ê²€',
          'í­ì•½',
          'ìŒë€ë¬¼',
          'ì ì§‘',
          'í•´í‚¹',
          'ê°œì¸ì •ë³´',
          'ì´ë¯¸í…Œì´ì…˜',
          'ë„ë°•',
          'ë‹¤ì´ì–´íŠ¸',
          'ë‹´ë°°ìˆ ',
          'ê±´ê°•ê¸°ëŠ¥ì‹í’ˆ',
          'ë¬¸ì‹ ',
          // ê³¼ì¥ëœ ë§ˆì¼€íŒ… í‘œí˜„
          'ë¬´ì¡°ê±´',
          'ë°˜ë“œì‹œ',
          'í™•ì‹¤íˆ',
          'ì ˆëŒ€',
          '100%í™•ì‹¤',
          '100%ë³´ì¥',
          'ì¦‰ì‹œ',
          'ë‹¹ì¥',
          'ì§€ê¸ˆ ë°”ë¡œ',
          'ì§€ê¸ˆ ì¦‰ì‹œ',
          'ë°”ë¡œ ì§€ê¸ˆ',
          'ë¹„ë°€',
          'ë¹„ê³µê°œ',
          'í•œì •',
          'í•œì •íŒ',
          'ì˜¤ëŠ˜ë§Œ',
          'ì˜¤ëŠ˜ ë§ˆê°',
          'ë§ˆê° ì„ë°•',
          'ë§ˆì§€ë§‰ ê¸°íšŒ',
          'ë‹¨ í•œ ë²ˆ',
          'ë‹¨ í•œ ë²ˆë§Œ',
          // ê²€ì¦/ì¦ëª… ê´€ë ¨
          'ì¦ëª…',
          'ê²€ì¦',
          'í…ŒìŠ¤íŠ¸',
          'ì„ìƒ',
          'ì‹¤í—˜',
          'ê²€ì‚¬',
          'ë¶„ì„',
          // í›„ê¸°/í‰ê°€ ê´€ë ¨
          'í›„ê¸°',
          'ë¦¬ë·°',
          'í‰ê°€',
          'ë§Œì¡±ë„',
          'ì¶”ì²œ í›„ê¸°',
          'ì‚¬ìš© í›„ê¸°',
          'êµ¬ë§¤ í›„ê¸°',
          // ê°€ê²©/í• ì¸ ê´€ë ¨
          'í• ì¸ìœ¨',
          'íŠ¹ê°€',
          'ì„¸ì¼',
          'íŒŒê²©',
          'íŒŒê²©ê°€',
          'ì´ˆíŠ¹ê°€',
          'ì´ˆì €ê°€',
          'ë°˜ê°’',
          'ë°˜ê°’ì„¸ì¼',
          'ë¬´ë£Œë°°ì†¡',
          'ë°°ì†¡ë¹„ ë¬´ë£Œ',
          'ë¬´ë£Œ ë°°ì†¡',
          // ê°€ì…/íšŒì› ìœ ë„
          'íšŒì›ê°€ì…',
          'ë¡œê·¸ì¸',
          'êµ¬ë…',
          'êµ¬ë…í•˜ê¸°',
          'ê°€ì…í•˜ê¸°',
          'íšŒì›ê°€ì…í•˜ê¸°',
          'ì§€ê¸ˆ ê°€ì…',
          'ì§€ê¸ˆ êµ¬ë…',
          // í´ë¦­/ë§í¬ ìœ ë„
          'í´ë¦­',
          'ë§í¬',
          'URL',
          'ë°”ë¡œê°€ê¸°',
          'í´ë¦­í•˜ì„¸ìš”',
          'ì§€ê¸ˆ í´ë¦­',
          'ì—¬ê¸° í´ë¦­',
          // ê´‘ê³ /í™ë³´ ê´€ë ¨
          'ê´‘ê³ ',
          'í™ë³´',
          'í”„ë¡œëª¨ì…˜',
          'í”„ë¡œëª¨ì…˜ ì§„í–‰ì¤‘',
          'ê´‘ê³  ë¬¸ì˜',
          'ì œíœ´',
          'í˜‘ì°¬',
          // ì‚¬ê¸°/í”¼ì‹± ê´€ë ¨
          'ìŠ¤íŒ¸',
          'í”¼ì‹±',
          'ì‚¬ê¸°',
          'ì‚¬ê¸°ê¾¼',
          'ë‚šì‹œ',
          'ë‚šì‹œê¸€',
          // ì„±ì¸/ìŒë€ ê´€ë ¨
          'ì„±ì¸',
          '19ê¸ˆ',
          'ì•¼í•œ',
          'ìŒë€',
          'ì„ ì •ì ',
          // ë„ë°•/ì‚¬í–‰ì„±
          'ë¡œë˜',
          'ë³µê¶Œ',
          'ê²½ë§ˆ',
          'ê²½ë¥œ',
          'ê²½ì •',
          'ì‚¬í–‰ì„±',
          'ë² íŒ…',
          // ê°œì¸ì •ë³´ ìˆ˜ì§‘
          'ê°œì¸ì •ë³´',
          'ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸',
          'ì‹ ìš©ì¹´ë“œ',
          'ê³„ì¢Œë²ˆí˜¸',
          'ë¹„ë°€ë²ˆí˜¸',
          'ì¸ì¦ë²ˆí˜¸',
          // ê³¼ì¥ëœ í‘œí˜„
          'í˜ì‹ ',
          'í˜ëª…',
          'ì‹ ê¸°ë¡',
          'ì„¸ê³„ ìµœì´ˆ',
          'êµ­ë‚´ ìµœì´ˆ',
          'ì„¸ê³„ ìµœê³ ',
          'êµ­ë‚´ ìµœê³ ',
          'ì „êµ­ ìµœê³ ',
          'ì „êµ­ 1ìœ„',
          'ì„¸ê³„ 1ìœ„',
          'êµ­ë‚´ 1ìœ„',
          'ë…ì ',
          'ë…ì  íŒë§¤',
          'ë‹¨ë…',
          'ë‹¨ë… ì œê³µ',
          'ì˜¤ì§ ì—¬ê¸°ì„œë§Œ',
          'ì—¬ê¸°ì„œë§Œ',
          'ì´ê³³ì—ì„œë§Œ'
        ];
        const found = [];
        
        forbiddenList.forEach(word => {
          // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ê²€ì‚¬
          const regex = new RegExp(word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi');
          if (regex.test(content)) {
            found.push(word);
          }
        });
        
        return found;
      }
      
      // ë°˜ë³µì–´ ê²€ì‚¬ í•¨ìˆ˜
      function checkRepetition(content) {
        const REPETITION_THRESHOLD = 6; // ì „ì²´ ë°˜ë³µ ì„ê³„ê°’
        const PARAGRAPH_REPETITION_THRESHOLD = 3; // ë‹¨ë½ ë‚´ ë°˜ë³µ ì„ê³„ê°’
        const repetitionWords = [];
        
        // ë‹¨ë½ìœ¼ë¡œ ë¶„ë¦¬ (ì¤„ë°”ê¿ˆ 2ê°œ ì´ìƒ ë˜ëŠ” ë¬¸ë‹¨ êµ¬ë¶„)
        // ì¤„ë°”ê¿ˆì´ ì—†ìœ¼ë©´ ì „ì²´ë¥¼ í•˜ë‚˜ì˜ ë‹¨ë½ìœ¼ë¡œ ì²˜ë¦¬
        let paragraphs = content.split(/\n\s*\n+/).filter(p => p.trim().length > 0);
        if (paragraphs.length === 0) {
          paragraphs = [content];
        }
        
        // ì „ì²´ ë‹¨ì–´ ë¹ˆë„ ë¶„ì„
        const allWords = content.split(/\s+/).filter(word => word.length > 1);
        const wordCount = {};
        
        allWords.forEach(word => {
          const cleanWord = word.replace(/[^\wê°€-í£]/g, '');
          if (cleanWord.length > 1) {
            wordCount[cleanWord] = (wordCount[cleanWord] || 0) + 1;
          }
        });
        
        // ì „ì²´ì—ì„œ 6íšŒ ì´ìƒ ë°˜ë³µëœ ë‹¨ì–´ ì°¾ê¸°
        Object.keys(wordCount).forEach(word => {
          if (wordCount[word] >= REPETITION_THRESHOLD) {
            repetitionWords.push({ 
              word: word, 
              count: wordCount[word],
              type: 'ì „ì²´ ë°˜ë³µ',
              description: `ì „ì²´ì—ì„œ ${wordCount[word]}íšŒ ë°˜ë³µ`
            });
          }
        });
        
        // ê° ë‹¨ë½ ë‚´ì—ì„œ 2íšŒ ì´ìƒ ë°˜ë³µëœ ë‹¨ì–´ ì°¾ê¸°
        paragraphs.forEach((paragraph, paraIndex) => {
          const paraWords = paragraph.split(/\s+/).filter(word => word.length > 1);
          const paraWordCount = {};
          
          paraWords.forEach(word => {
            const cleanWord = word.replace(/[^\wê°€-í£]/g, '');
            if (cleanWord.length > 1) {
              paraWordCount[cleanWord] = (paraWordCount[cleanWord] || 0) + 1;
            }
          });
          
          // ë‹¨ë½ ë‚´ 2íšŒ ì´ìƒ ë°˜ë³µëœ ë‹¨ì–´ ì°¾ê¸°
          Object.keys(paraWordCount).forEach(word => {
            if (paraWordCount[word] >= PARAGRAPH_REPETITION_THRESHOLD) {
              // ì´ë¯¸ ì „ì²´ ë°˜ë³µìœ¼ë¡œ ì¶”ê°€ëœ ë‹¨ì–´ëŠ” ì œì™¸
              const existingIndex = repetitionWords.findIndex(item => item.word === word && item.type === 'ë‹¨ë½ ë°˜ë³µ');
              if (existingIndex === -1) {
                repetitionWords.push({ 
                  word: word, 
                  count: paraWordCount[word],
                  type: 'ë‹¨ë½ ë°˜ë³µ',
                  description: `${paraIndex + 1}ë²ˆì§¸ ë‹¨ë½ì—ì„œ ${paraWordCount[word]}íšŒ ë°˜ë³µ`
                });
              } else {
                // ê°™ì€ ë‹¨ì–´ê°€ ì—¬ëŸ¬ ë‹¨ë½ì—ì„œ ë°˜ë³µë˜ë©´ ì¹´ìš´íŠ¸ ì¦ê°€
                repetitionWords[existingIndex].count += paraWordCount[word];
                repetitionWords[existingIndex].description = `ì—¬ëŸ¬ ë‹¨ë½ì—ì„œ ë°˜ë³µ (${paraIndex + 1}ë²ˆì§¸ ë‹¨ë½ í¬í•¨)`;
              }
            }
          });
        });
        
        // ì¤‘ë³µ ì œê±° ë° ì •ë ¬ (ì „ì²´ ë°˜ë³µ ìš°ì„ , ê·¸ ë‹¤ìŒ ë‹¨ë½ ë°˜ë³µ)
        const uniqueWords = {};
        repetitionWords.forEach(item => {
          if (!uniqueWords[item.word] || item.type === 'ì „ì²´ ë°˜ë³µ') {
            uniqueWords[item.word] = item;
          }
        });
        
        const result = Object.values(uniqueWords);
        return result.sort((a, b) => {
          // ì „ì²´ ë°˜ë³µì´ ìš°ì„ 
          if (a.type === 'ì „ì²´ ë°˜ë³µ' && b.type !== 'ì „ì²´ ë°˜ë³µ') return -1;
          if (a.type !== 'ì „ì²´ ë°˜ë³µ' && b.type === 'ì „ì²´ ë°˜ë³µ') return 1;
          // ê°™ì€ íƒ€ì…ì´ë©´ ë¹ˆë„ìˆœ
          return b.count - a.count;
        }).slice(0, 15);
      }
      
      // ê²€ì‚¬ê¸° ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
      function showCheckerAlert(message, type) {
        const alertContainer = document.getElementById('checkerAlertContainer');
        if (!alertContainer) {
          console.error('checkerAlertContainerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }
        
        const alert = document.createElement('div');
        alert.className = `alert alert-${type}`;
        alert.textContent = message;
        alertContainer.innerHTML = '';
        alertContainer.appendChild(alert);
        
        // 5ì´ˆ í›„ ìë™ ì œê±° (ì—ëŸ¬ëŠ” ì œì™¸)
        if (type !== 'error') {
          setTimeout(() => {
            alert.remove();
          }, 5000);
        }
      }

      // í¼ ë¦¬ì…‹ í•¨ìˆ˜
      function resetForm() {
        document.getElementById('blogForm').reset();
        document.getElementById('keywordsSection').style.display = 'none';
        document.getElementById('blogResult').style.display = 'none';
        document.getElementById('blogTextContainer').style.display = 'none';
        document.getElementById('alertContainer').innerHTML = '';
        document.getElementById('blogResultAlertContainer').innerHTML = '';
        document.getElementById('manualKeyword').value = '';
        document.getElementById('keywordTags').innerHTML = '';
        selectedKeywords = [];
        updateSelectedKeywordsInfo();
        
        // ìƒì„±ê¸° ì„¹ì…˜ ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
        const generatorSection = document.getElementById('generatorSection');
        if (generatorSection) {
          generatorSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }

      // ì•Œë¦¼ í‘œì‹œ í•¨ìˆ˜
      function showAlert(message, type) {
        const alertContainer = document.getElementById('alertContainer');
        if (!alertContainer) {
          console.error('alertContainerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }
        
        const alert = document.createElement('div');
        alert.className = `alert alert-${type}`;
        alert.textContent = message;
        alertContainer.innerHTML = '';
        alertContainer.appendChild(alert);
        
        // 5ì´ˆ í›„ ìë™ ì œê±° (ì—ëŸ¬ëŠ” ì œì™¸)
        if (type !== 'error') {
          setTimeout(() => {
            alert.remove();
          }, 5000);
        }
      }

      // Enter í‚¤ë¡œ ì„œë¸Œí‚¤ì›Œë“œ ì¶”ì²œ
      document.addEventListener('DOMContentLoaded', function() {
        // ìƒì„±ê¸° ì„¹ì…˜ì´ í‘œì‹œë  ë•Œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        const mainKeywordInput = document.getElementById('mainKeyword');
        if (mainKeywordInput) {
          mainKeywordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
              e.preventDefault();
              recommendKeywords();
            }
          });
        }
      });
    </script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script>
      // Firebase ì„¤ì •
      const firebaseConfig = {
        apiKey: "AIzaSyCQP1vx3cEtQUYOOqMsKS5HPM3SFMNxasY",
        authDomain: "boostweb-93027.firebaseapp.com",
        projectId: "boostweb-93027",
        storageBucket: "boostweb-93027.firebasestorage.app",
        messagingSenderId: "402354704129",
        appId: "1:402354704129:web:0c5cdd4f51b93ba4ef1500",
        measurementId: "G-2C1TW1KZ7X"
      };

      // Firebase ì´ˆê¸°í™”
      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
      const auth = firebase.auth();
      const db = firebase.firestore();

      // ë¡œê·¸ì¸ ì²´í¬ í•¨ìˆ˜
      function checkAuthAndShowMessage() {
        const user = auth.currentUser;
        if (!user) {
          // ë¡œê·¸ì¸ ì•ˆë‚´ ë©”ì‹œì§€ í‘œì‹œ
          const message = 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í›„ ì´ìš©í•´ì£¼ì„¸ìš”.';
          alert(message);
          // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
          window.location.href = 'login.html';
          return false;
        }
        return true;
      }

      // ê¸°ì¡´ í•¨ìˆ˜ë“¤ì„ ë¡œê·¸ì¸ ì²´í¬ê°€ í¬í•¨ëœ ë²„ì „ìœ¼ë¡œ ì¬ì •ì˜
      const originalShowGenerator = showGenerator;
      const originalShowChecker = showChecker;
      const originalShowNeighborManager = showNeighborManager;

      window.showGenerator = function() {
        if (checkAuthAndShowMessage()) {
          originalShowGenerator();
        }
      };

      window.showChecker = function(scrollToTop = true) {
        // ê²€ì‚¬ê¸°ëŠ” ë¡œê·¸ì¸ í•„ìš” (ì œí•œ ì—†ìŒ)
        if (checkAuthAndShowMessage()) {
          originalShowChecker(scrollToTop);
        }
      };

      window.showNeighborManager = function() {
        if (checkAuthAndShowMessage()) {
          originalShowNeighborManager();
        }
      };
      
      // ì¸ì¦ ìƒíƒœ ë³€ê²½ ê°ì§€ (í˜ì´ì§€ ë¡œë“œ í›„ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸)
      auth.onAuthStateChanged(function(user) {
        // ì¸ì¦ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰ (ì´ˆê¸° ë¡œë“œ ì‹œì—ë„ ì‹¤í–‰ë¨)
        // ì—¬ê¸°ì„œëŠ” íŠ¹ë³„í•œ ì²˜ë¦¬ê°€ í•„ìš” ì—†ìœ¼ë¯€ë¡œ ë¹„ì›Œë‘ 
      });
    </script>
  </body>
</html>
